(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{289:function(e,t,a){e.exports=a(511)},294:function(e,t,a){},295:function(e,t,a){},511:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(14),l=a.n(o),s=(a(294),a(24)),i=a(25),c=a(27),u=a(26),m=(a(295),a(42)),d=a(527),g=a(532),p=a(9),f=function(e){return r.a.createElement("div",null,r.a.createElement(d.a,{collapseOnSelect:!0,expand:"lg",bg:e.props,className:"fixed-top",style:{color:"#8e44ad",backgroundColor:"transparent",paddingLeft:"3%",paddingRight:"4%"},variant:"dark"},r.a.createElement(p.b,{to:"/"},r.a.createElement(d.a.Brand,{href:"#home"},"DJ-Music")),r.a.createElement(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(d.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"}),r.a.createElement(g.a,null,r.a.createElement(p.b,{to:"/signin"},r.a.createElement(g.a.Link,{href:"#deets"},"Sign In")),r.a.createElement(p.b,{to:"/signup"},r.a.createElement(g.a.Link,{eventKey:2,href:"#memes"},"Sign Up"))))))},h=a(523),y=a(529),E=a(19),b=a(535),k=a(17),S=a.n(k),v=function(){return function(e){S.a.get("https://django-react-music.herokuapp.com/songs/categories/").then((function(t){e({type:"getCategoriesSuccess",categories:t.data})})).catch((function(t){e({type:"getCategoriesFailed",error:t})}))}},C=function(){return function(e){e({type:"getSongsStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/").then((function(t){e(function(e){return{type:"getSongsSuccess",songs:e}}(t.data))})).catch((function(t){e({type:"getSongsFailed",error:t})}))}},w=function(e){return function(t){t({type:"getSingleSongStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/song/".concat(e,"/")).then((function(e){t({type:"getSingleSongSuccess",song:e.data})})).catch((function(e){t({type:"getSingleSongFailed",error:e})}))}},L=function(e){return function(t){t({type:"getMyUploadsStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/myuploads/",{headers:{token:e}}).then((function(e){t(function(e){return{type:"getMyUploadsSuccess",songs:e}}(e.data))})).catch((function(e){t({type:"getMyUploadsFailed",error:e})}))}},I=function(e){return function(t){var a=e.get("token");t({type:"uploadSongsStart"}),S.a.post("https://django-react-music.herokuapp.com/songs/upload/",e).then((function(e){t(function(e){return{type:"uploadSongsSuccess",message:e}}("uploaded successfully!!")),t(L(a))})).catch((function(e){t({type:"uploadSongsFailed",error:e.response.data})}))}},P=function(e,t){return function(a){S.a.delete("https://django-react-music.herokuapp.com/songs/upload/".concat(e,"/")).then((function(e){a(function(e){return{type:"deleteUploadsSuccess",message:e}}("your song was deleted successfully!!")),a(L(t))})).catch((function(e){a({type:"deleteUploadsFailed",error:e})}))}},T=function(e,t){return function(a){a({type:"searchUploadsStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/myuploads/?search=".concat(e,"/"),{headers:{token:t}}).then((function(e){a(function(e){return{type:"searchUploadsSuccess",songs:e}}(e.data))})).catch((function(e){a({type:"searchUploadsFailed",error:e})}))}},x=function(e,t){return function(a){S.a.post("https://django-react-music.herokuapp.com/songs/togglelikes/",{token:e,songID:t}).then((function(e){a(function(e){return{type:"likeToggle",message:e}}(e.data))}))}},j=function(e){return function(t){t({type:"getSongSuggestionsStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/suggestions/",{headers:{token:e}}).then((function(e){t(function(e){return{type:"getSongSuggestionsSuccess",songs:e}}(e.data))})).catch((function(e){t(function(e){return{type:"getSongSuggestionsFailed",error:e}}(e))}))}},O=function(e,t,a){return function(n){n({type:"addCommentStart"}),S.a.post("https://django-react-music.herokuapp.com/songs/comment/",{token:e,id:t,comment:a}).then((function(e){n(function(e){return{type:"addCommentSuccess",message:e}}(e.data)),n(w(t))})).catch((function(e){n(function(e){return{type:"addCommentFailed",error:e}}(e))}))}},R=function(e){return function(t){S.a.delete("https://django-react-music.herokuapp.com/songs/commentdelete/".concat(e,"/")).then((function(e){t(function(e){return{type:"deleteCommentsSuccess",message:e}}(e.data))})).catch((function(e){t(function(e){return{type:"deleteCommentsFailed",error:e}}(e))}))}},D=function(e,t,a){return function(n){S.a.post("https://django-react-music.herokuapp.com/songs/commentliketoggle/",{token:e,id:t}).then((function(e){n({type:"commentLikeSuccess"}),n(w(a))}))}},A=function(e,t){return function(a){S.a.post("https://django-react-music.herokuapp.com/songs/commentdisliketoggle/",{token:e,id:t}).then((function(e){a({type:"commentDislikeSuccess"})}))}},z=function(e,t,a){return function(n){S.a.post("https://django-react-music.herokuapp.com/songs/reply/",{token:e,comment_id:t,reply:a}).then((function(e){n(function(e){return{type:"addReplySuccess",message:e}}(e.data))})).catch((function(e){n(function(e){return{type:"addReplyFailed",error:e}}(e))}))}},N=function(e){return function(t){t({type:"getPlaylistsStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/getplaylists/",{headers:{token:e}}).then((function(e){t(function(e){return{type:"getPlaylistsSuccess",playlists:e}}(e.data))})).catch((function(e){t(function(e){return{type:"getPlaylistsFailed",error:e}}(e))}))}},_=function(e,t){return function(a){a({type:"addToPlaylistStart"}),S.a.post("https://django-react-music.herokuapp.com/songs/addtoplaylist/",{song_id:e,playlist_id:t}).then((function(e){a(function(e){return{type:"addToPlaylistSuccess",message:e}}("added successfully"))})).catch((function(e){a(function(e){return{type:"addToPlaylistFailed",error:e}}("this song is already in the playlist"))}))}},U=function(e){return function(t){t({type:"searchAllStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/searchsongsusers/",{headers:{query:e}}).then((function(e){t({type:"searchAllSuccess",results:e.data})})).catch((function(e){t({type:"searchAllFailed",error:e})}))}},F=function(e,t,a){return{type:"AUTH_SUCCESS",token:e,avatar:a,email:t}},B=function(e){return{type:"AUTH_FAIL",error:e}},M=function(){return localStorage.removeItem("token"),localStorage.removeItem("expirationDate"),{type:"AUTH_LOGOUT"}},H=function(e){return function(t){setTimeout((function(){t(M())}),1e3*e)}},q=function(e,t){return function(a){a({type:"AUTH_START"}),S.a.post("https://django-react-music.herokuapp.com/users/login/",{email:e,password:t},{headers:{accept:"application/json"}}).then((function(e){var t=e.data.key,n=e.data.user_type,r=e.data.username,o=e.data.email,l=e.data.avatar,s=new Date((new Date).getTime()+36e5);localStorage.setItem("token",t),localStorage.setItem("user_type",n),localStorage.setItem("username",r),localStorage.setItem("email",o),localStorage.setItem("avatar",l),localStorage.setItem("expirationDate",s),a(F(t,o,l)),a(H(3600))})).catch((function(e){a(B(e.response.data))}))}},W=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{login:function(t,a){return e(q(t,a))},logout:function(){return e(M())},searchAll:function(t){return e(U(t))}}}))(Object(m.f)((function(e){var t=null;"Normal"===localStorage.getItem("user_type")?t="#dfe6e9":"Premium"===localStorage.getItem("user_type")?(t="#8e44ad",b.a):(t="#c0392b",b.a);var a=y.a.Search;return console.log(localStorage.getItem("avatar")),r.a.createElement("div",null,r.a.createElement(d.a,{collapseOnSelect:!0,expand:"lg",bg:e.props,className:"fixed-top",style:{backgroundColor:"transparent",paddingLeft:"3%",paddingRight:"3%"},variant:"dark"},r.a.createElement(p.b,{to:"/"},r.a.createElement(d.a.Brand,{href:"#home"},"DJ-Music")),r.a.createElement(d.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),r.a.createElement(d.a.Collapse,{id:"responsive-navbar-nav"},r.a.createElement(g.a,{className:"mr-auto"},r.a.createElement(p.b,{to:"/songs"}," ",r.a.createElement(g.a.Link,{href:"#deets",eventKey:4},"Explore")),r.a.createElement(p.b,{to:"/playlists"},r.a.createElement(g.a.Link,{href:"#d2eets",eventKey:2},"Playlists")),r.a.createElement(p.b,{to:"/uploads"}," ",r.a.createElement(g.a.Link,{href:"#deets",eventKey:5},"uploads"))),r.a.createElement(r.a.Fragment,null,r.a.createElement(a,{placeholder:"Search...",onSearch:function(t){return function(t){e.history.push("/search/".concat(t))}(t)},style:{width:300,marginRight:"30%"}})),r.a.createElement(g.a,null,r.a.createElement(h.a,{title:r.a.createElement("span",null,r.a.createElement("img",{src:localStorage.getItem("avatar"),style:{borderRadius:"50%",border:"2px ".concat(t," solid "),width:20,height:20}})," ",localStorage.getItem("username")," "),id:"basic-nav-dropdown"},r.a.createElement(p.b,{to:"/profile"},r.a.createElement(h.a.Item,{href:"#action/3.1"},"Profile")),r.a.createElement(h.a.Divider,null),r.a.createElement(h.a.Item,{href:"#action/3.5"},"Followers"),r.a.createElement(h.a.Item,{href:"#action/3.2"},"Following"),r.a.createElement(h.a.Item,{href:"#action/3.4"},"Liked")),r.a.createElement(g.a.Link,{eventKey:2,onClick:function(){return e.logout()}},"logout")))))}))),J=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){console.log(this.props.bg);var e=this.props.isAuthenticated?r.a.createElement(W,{props:this.props.bg}):r.a.createElement(f,{props:this.props.bg});return r.a.createElement("div",null,e)}}]),a}(n.Component),G=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{login:function(t,a){return e(q(t,a))}}}))(J),V=a(534),Y=a(524),K=a(90),X=a(533),$=a(525),Q=a(518),Z=a(517),ee=a(273),te=a(530),ae=a(536),ne=a(537),re=a(538),oe=a(539),le=a(541),se=a(542),ie=a(543),ce=a(248);function ue(e){return e.paused?e.play():e.pause(),{type:"togglePlaying",result:e.paused,duration:e.duration}}var me=function(e){var t=[];if(e){var a,n=Object(ce.a)(e);try{for(n.s();!(a=n.n()).done;){var r=a.value;t.push({name:r.name,cover:r.cover,uploader:r.uploader,file:r.file,id:r.id,likes_count:r.likes_count,likes:r.likes})}}catch(o){n.e(o)}finally{n.f()}}return localStorage.setItem("playlist",JSON.stringify(t)),{type:"setPlaylist",playlist:e}},de=function(e,t){return function(a){S.a.post("https://django-react-music.herokuapp.com/songs/lastlistened/",{song_id:e,token:t}).then((function(e){a((e.data,{type:"setListeningHistorySuccess"}))}))}},ge=function(e){return function(t){S.a.get("https://django-react-music.herokuapp.com/songs/getlastlistened/",{headers:{token:e}}).then((function(e){t({type:"getListeningHistorySuccess",history:e.data})}))}};function pe(e){return function(t){S.a.get("https://django-react-music.herokuapp.com/songs/setcurrent/".concat(e,"/")).then((function(e){t({type:"setTracks",song:e.data});var a=e.data.file,n=e.data.name,r=e.data.cover,o=e.data.id,l=e.data.uploader;localStorage.setItem("uploader",l),localStorage.setItem("file",a),localStorage.setItem("songName",n),localStorage.setItem("songCover",r),localStorage.setItem("id",o)})),localStorage.getItem("token")&&t(de(e,localStorage.getItem("token")))}}var fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,error:null},e.showModal=function(t){e.setState({visible:!0,songid:t})},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.handleCancel=function(){e.setState({visible:!1})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getListeningHistory(localStorage.getItem("token"))}},{key:"render",value:function(){var e=this,t=function(t){e.props.ToggleLike(localStorage.getItem("token"),t),e.componentDidMount()},a=this.props.currentSong&&this.props.currentSong.file||localStorage.getItem("file")&&localStorage.getItem("file");return r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement(Y.a,{visible:this.state.visible,title:"Your Playlists",onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(K.a,{key:"back",onClick:this.handleCancel},"Cancel")]},this.props.addError?r.a.createElement("center",null,r.a.createElement(X.a,{message:this.props.addError,description:"try out another song please",type:"error",style:{width:400,textAlign:"center",marginBottom:10}})):"",r.a.createElement($.b,{style:{height:300,overflow:"auto"},dataSource:this.props.playlists,loading:this.props.loading,renderItem:function(t){return r.a.createElement(p.b,{onClick:function(){return e.handleAddToPlaylist(t.id)}}," ",r.a.createElement($.b.Item,{key:t.id},r.a.createElement($.b.Item.Meta,{title:r.a.createElement(r.a.Fragment,null,t.name," "),description:t.user})))}})),r.a.createElement($.b,{style:{width:"auto",paddingLeft:10,height:360,overflow:"auto"},dataSource:this.props.songs[0]&&this.props.songs[0].songs,loading:this.props.loading,renderItem:function(n){return r.a.createElement($.b.Item,{key:n.id,actions:[a==="http://127.0.0.1:8000".concat(n.file)?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return t=n.id,e.props.getCurrentSong(t),void e.props.setPlaylist(e.props.songs[0].songs);var t}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),n.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return t(n.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(n.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return t(n.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.showModal(n.id)}},r.a.createElement(oe.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:"http://127.0.0.1:8000".concat(n.cover)}),title:r.a.createElement(p.b,{to:"/song/".concat(n.id)},n.name," ",n.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(n.category.label),padding:5,color:"#fff",borderRadius:3}},n.category.name):""),description:n.upload_date}))}}))}}]),a}(r.a.Component),he=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,message:e.song.message,songs:e.player.history,successMessage:e.song.success,error:e.song.error,categories:e.song.categories,currentSong:e.player.currentTrack,addError:e.song.addError}}),(function(e){return{getSongs:function(){return e(C())},getSuggestions:function(t){return e(j(t))},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},getListeningHistory:function(t){return e(ge(t))},addToPlaylist:function(t,a){return e(_(t,a))},getPlaylists:function(t){return e(N(t))}}}))(fe),ye=a(540),Ee=null,be=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleFollowToggle=function(t){e.props.toggleFollow(localStorage.getItem("token"),t),e.props.getWhotofollow(localStorage.getItem("token"))},e.iconHandle=function(e){return"Normal"===e?("#dfe6e9",Ee=null):"Premium"===e?("#8e44ad",Ee=r.a.createElement(ee.a,null,r.a.createElement(b.a,{style:{color:"#8e44ad",margin:3,top:0,fontSize:13}}))):("#c0392b",Ee=r.a.createElement(ee.a,null,r.a.createElement(b.a,{style:{color:"#c0392b",margin:3,top:0,fontSize:13}}))),Ee},e.handleBorder=function(e){return"Normal"===e?"#dfe6e9":"Premium"===e?"#8e44ad":"#c0392b"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getWhotofollow(localStorage.getItem("token"))}},{key:"render",value:function(){var e=this;this.props.currentSong&&this.props.currentSong.file||localStorage.getItem("file")&&localStorage.getItem("file");return r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement($.b,{style:{marginLeft:10,marginRight:10,paddingBottom:10,width:"auto"},dataSource:this.props.followlist,loading:this.props.followloading,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[t.followers.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement("button",{style:{marginLeft:10,background:"none",border:"2px #8e44ad solid",borderRadius:5,color:"#8e44ad",height:32},onClick:function(){return e.handleFollowToggle(t.id)},id:"bttn"},"Unfollow"):r.a.createElement("button",{style:{marginLeft:10,background:"none",border:"2px #8e44ad solid",borderRadius:5,color:"#8e44ad",height:32},onClick:function(){return e.handleFollowToggle(t.id)},id:"bttn"},"Follow")]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.avatar,style:{border:"2px solid ".concat(e.handleBorder(t.user_type))}}),title:r.a.createElement(p.b,{to:"/user/".concat(t.id)},t.username," ",e.iconHandle(t.user_type)," "),description:r.a.createElement(ee.a,{placement:"bottom",title:"followers"},r.a.createElement("p",{style:{display:"inline",cursor:"pointer",padding:0,width:10}},r.a.createElement(ye.a,{style:{fontSize:15,marginBottom:15}})," ",r.a.createElement("span",{style:{fontSize:12}},t.followers_count)))}))}}))}}]),a}(r.a.Component),ke=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,message:e.song.message,songs:e.song.history,successMessage:e.song.success,error:e.song.error,categories:e.song.categories,currentSong:e.player.currentTrack,followloading:e.song.followLoading,followlist:e.song.followlist}}),(function(e){return{getSongs:function(){return e(C())},getSuggestions:function(t){return e(j(t))},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},getListeningHistory:function(t){return e(ge(t))},getWhotofollow:function(t){return e(function(e){return function(t){t({type:"getWhotofollowStart"}),S.a.get("https://django-react-music.herokuapp.com/user/getwhotofollow/",{headers:{token:e}}).then((function(e){t({type:"getWhotofollowSuccess",users:e.data})})).catch((function(e){t(function(e){return{type:"getWhotofollowFailed",error:e}}(e))}))}}(t))},toggleFollow:function(t,a){return e(function(e,t){return function(a){S.a.post("https://django-react-music.herokuapp.com/user/follow/",{token:e,id:t}).then((function(e){a(function(e){return{type:"toggleFollow",message:e}}(e.data))}))}}(t,a))}}}))(be),Se=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,searchs:null,category:null,visible:!1,error:null,width:"16%",songid:null},e.showModal=function(t){e.setState({visible:!0,songid:t})},e.handleCancel=function(){e.setState({visible:!1})},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.setPlay=function(t,a){document.getElementById("Aud");e.props.getCurrentSong(t),e.props.setPlaylist(a)},e.handleLike=function(t){e.props.isAuthenticated?(e.props.ToggleLike(localStorage.getItem("token"),t),e.componentDidMount()):e.props.history.push("/signin")},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategorySongs()}},{key:"render",value:function(){var e=this,t=this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id"),a=null;return this.props.message&&(a=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.props.afterLike()),r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark",cls:"fixed-top"}),r.a.createElement(Y.a,{visible:this.state.visible,title:"Your Playlists",onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(K.a,{key:"back",onClick:this.handleCancel},"Cancel")]},this.props.addError?r.a.createElement("center",null,r.a.createElement(X.a,{message:this.props.addError,description:"try out another song please",type:"error",style:{width:400,textAlign:"center",marginBottom:10}})):"",r.a.createElement($.b,{style:{height:300,overflow:"auto"},dataSource:this.props.playlists,loading:this.props.loading,renderItem:function(t){return r.a.createElement(p.b,{onClick:function(){return e.handleAddToPlaylist(t.id)}}," ",r.a.createElement($.b.Item,{key:t.id},r.a.createElement($.b.Item.Meta,{title:r.a.createElement(r.a.Fragment,null,t.name," "),description:t.user})))}})),a,r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:16},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",minHeight:600,paddingLeft:20,borderRight:"2px #ecf0f1 solid"}},this.props.categorySongs.map((function(a){return r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h2",{style:{color:"#8e44ad",marginTop:10,width:"20%"}},r.a.createElement("i",null,"#",a.name)),r.a.createElement($.b,{style:{width:"auto",overflow:"auto"},dataSource:a.songs,loading:e.props.loading,renderItem:function(n){return r.a.createElement($.b.Item,{key:n.id,actions:[t==n.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(n.id,a.songs)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),n.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(n.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(n.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(n.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more"},r.a.createElement(oe.a,{style:{fontSize:20,color:"#8e44ad"},onClick:function(){return e.showModal(n.id)}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:n.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(n.id)},n.name," ",n.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(n.category.label),padding:5,color:"#fff",borderRadius:3}},n.category.name):""),description:r.a.createElement(r.a.Fragment,null,n.uploader," ",r.a.createElement("br",null)," ",n.upload_date," ")}))}}),r.a.createElement(p.b,{to:"/category/".concat(a.id)},r.a.createElement("h4",{style:{textAlign:"center",color:"#8e44ad"}},"view all")),r.a.createElement("hr",{style:{marginTop:20,marginBottom:40}}))})))),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},this.props.isAuthenticated?r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,borderBottom:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(le.a,{style:{fontSize:25}})," who to follow"),r.a.createElement(ke,null))),r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:420}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(se.a,{style:{fontSize:25}})," Listening history"),r.a.createElement(he,{history:this.props.history,loading:this.props.loading,songId:t})))):r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:600,borderBottom:"2px #ecf0f1 solid",position:"fixed",width:450}},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:200,marginLeft:50,marginBottom:20,width:"100%"}},r.a.createElement(ie.a,{style:{fontSize:25}})," To Enhance Your Experience Please"),r.a.createElement(p.b,{to:"/signin"}," ",r.a.createElement("button",{style:{color:"#fff",backgroundColor:"#8e44ad",border:"none",width:150,height:40,borderRadius:3,marginLeft:50,marginRight:10}},"Sign in")),"or",r.a.createElement(p.b,{to:"/signup"},r.a.createElement("button",{style:{color:"#fff",backgroundColor:"#8e44ad",border:"none",width:150,height:40,borderRadius:3,marginLeft:10}},"Sign up"))))))))}}]),a}(r.a.Component),ve=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,followloading:e.song.followLoading,addError:e.song.addError,playlists:e.song.playlists,history:e.player.history,followlist:e.song.followlist,message:e.song.message,songs:e.song.suggestions,successMessage:e.song.success,error:e.song.error,categorySongs:e.song.categorySongs,currentSong:e.player.currentTrack}}),(function(e){return{getSongs:function(){return e(C())},getSuggestions:function(t){return e(j(t))},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},getCategorySongs:function(){return e((function(e){e({type:"getCategorySongsStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/getcategorysongs/").then((function(t){e(function(e){return{type:"getCategorySongsSuccess",songs:e}}(t.data))}))}))},getPlaylists:function(t){return e(N(t))},afterLike:function(){return e({type:"afterLike",message:null})},addToPlaylist:function(t,a){return e(_(t,a))}}}))(Se),Ce=a(522),we=a(544),Le=a(545),Ie=a(546),Pe=a(157),Te=a.n(Pe),xe=a(258),je=a.n(xe),Oe=function(e){console.log(e,"I was closed.")},Re=(we.a,function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).responseGoogle=function(t){console.log(t),e.props.authGoogleLogin(t.accessToken,t.profileObj.givenName)},e.handleSubmit=function(t){t.preventDefault();var a=t.target.username.value,n=t.target.password.value;console.log(a,n),e.props.login(a,n)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.isAuthenticated?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"header",style:{width:"100%",minHeight:710,backgroundColor:"#8e44ad"}},r.a.createElement("div",{xs:24,sm:24,md:24,lg:24,xl:24,style:{minHeight:710,backgroundColor:"rgba(0,0,0,0.8)",paddingTop:100}},r.a.createElement(G,{bg:"dark"}),r.a.createElement("center",null,r.a.createElement(Z.a,{xs:18,sm:18,md:12,lg:10,xl:7,style:{borderRadius:5,backgroundColor:"#fff",paddingTop:50,paddingBottom:5,minHeight:400}},this.props.error?Object.keys(this.props.error).map((function(t){return e.props.error[t]&&e.props.error[t].map((function(e){return r.a.createElement("div",null,r.a.createElement(X.a,{message:"wrong username or password",description:e,type:"error",closable:!0,style:{width:"auto",padding:15},onClose:Oe}))}))})):"",r.a.createElement("h1",{style:{color:"#8e44ad",fontWeight:1e3,marginBottom:10}},"Sign In"),r.a.createElement(Ce.a,{onSubmitCapture:this.handleSubmit,style:{width:"auto",padding:15},className:"login-form"},r.a.createElement(Ce.a.Item,{style:{color:"rgba(0,0,0,.25)"}},r.a.createElement("label",{htmlFor:"username",style:{color:"rgba(0,0,0,.25)",float:"left"}},"E-mail"),r.a.createElement(y.a,{prefix:r.a.createElement(Le.a,{style:{color:"rgba(0,0,0,.25)",borderRadius:20}}),placeholder:"Email",name:"username",required:!0,type:"email",disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"password",style:{color:"rgba(0,0,0,.25)",float:"left"}},"Password"),r.a.createElement(y.a,{prefix:r.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",name:"password",required:!0,disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement(K.a,{htmlType:"submit",style:{width:"100%",backgroundColor:"#8e44ad",color:"#fff",border:"none",paddingBottom:20,borderRadius:4},loading:this.props.loading,className:"login-form-button"},"Sign in")," \xa0",r.a.createElement("br",null),r.a.createElement(je.a,{clientId:"627485290456-hruf3gncmr0tmls192r3utrevdbp0dt9.apps.googleusercontent.com",buttonText:"Continue With Google ",onSuccess:this.responseGoogle,onFailure:this.responseGoogle,style:{width:"auto",padding:15},className:"signInButton",cookiePolicy:"single_host_origin"})),r.a.createElement(Te.a,null,"Or ",r.a.createElement(p.b,{to:"/signup"},"register now!")))))))}}]),a}(r.a.Component)),De=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{login:function(t,a){return e(q(t,a))},authGoogleLogin:function(t,a){return e(function(e){return function(t){t({type:"AUTH_START"}),S.a.post("https://django-react-music.herokuapp.com/user/googleLogin/",{access_token:e}).then((function(e){var a=e.data.key,n=e.data.user_type,r=e.data.username,o=e.data.email,l=e.data.avatar;localStorage.setItem("token",a),localStorage.setItem("user_type",n),localStorage.setItem("email",o),localStorage.setItem("username",r),localStorage.setItem("avatar",l),t(F(a,o,l))})).catch((function(e){t(B(e.response.data))}))}}(t))}}}))(Re),Ae=a(547),ze=function(e){console.log(e,"I was closed.")},Ne=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var a=t.target.username.value,n=t.target.email.value,r=t.target.password1.value,o=t.target.password2.value;console.log(a,n,r,o),e.props.signup(a,n,r,o)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return this.props.isAuthenticated?r.a.createElement(m.a,{to:"/"}):r.a.createElement("div",{className:"header",style:{width:"100%",minHeight:700,backgroundColor:"#8e44ad"}},r.a.createElement("div",{style:{width:"100%",minHeight:700,backgroundColor:"rgba(0,0,0,0.8)",paddingTop:20}},r.a.createElement(G,{bg:"dark"}),r.a.createElement("center",null,r.a.createElement(Z.a,{xs:18,sm:18,md:12,lg:10,xl:7,className:"container",style:{borderRadius:5,marginTop:50,backgroundColor:"#fff",paddingTop:50,paddingBottom:5,minHeight:500}},this.props.error?Object.keys(this.props.error).map((function(t){return e.props.error[t]&&e.props.error[t].map((function(e){return r.a.createElement("div",null,r.a.createElement(X.a,{message:t,description:e,type:"error",closable:!0,style:{width:"auto",padding:15},onClose:ze}),"      ",r.a.createElement("br",null))}))})):"",r.a.createElement("h1",{style:{color:"#8e44ad",fontWeight:1e3,marginBottom:10}},"Sign Up"),r.a.createElement(Ce.a,{onSubmitCapture:this.handleSubmit,style:{width:"auto",padding:15},className:"login-form"},r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"username",style:{color:"rgba(0,0,0,.25)",float:"left"}},"Username"),r.a.createElement(y.a,{prefix:r.a.createElement(Le.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username",required:!0,disabled:this.props.loading,name:"username"})),r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"email",style:{color:"rgba(0,0,0,.25)",float:"left"}},"E-mail"),r.a.createElement(y.a,{prefix:r.a.createElement(Ae.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"email",required:!0,placeholder:"Email",disabled:this.props.loading,name:"email"})),r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"password1",style:{color:"rgba(0,0,0,.25)",float:"left"}},"Password"),r.a.createElement(y.a,{prefix:r.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Password",type:"password",required:!0,name:"password1",disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"password2",style:{color:"rgba(0,0,0,.25)",float:"left"}},"Password(Confirmation)"),r.a.createElement(y.a,{prefix:r.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.25)"}}),required:!0,type:"password",placeholder:"Password(confirmation)",name:"password2",disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement(K.a,{htmlType:"submit",style:{width:"100%",backgroundColor:"#8e44ad",color:"#fff",border:"none",paddingBottom:20,borderRadius:4},loading:this.props.loading,className:"login-form-button"},"Sign up")," \xa0"),r.a.createElement(Te.a,null,"Or ",r.a.createElement(p.b,{to:"/signin"},"already have account ?!")))))))}}]),a}(r.a.Component),_e=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.auth.loading,error:e.auth.error}}),(function(e){return{signup:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"AUTH_START"}),S.a.post("https://django-react-music.herokuapp.com/users/registeration/",{username:e,email:t,password1:a,password2:n},{headers:{accept:"application/json"}}).then((function(e){var t=e.data.email,a=e.data.key,n=new Date((new Date).getTime()+36e5),o=e.data.username,l=e.data.avatar;localStorage.setItem("token",a),localStorage.setItem("email",t),localStorage.setItem("username",o),localStorage.setItem("avatar",l),localStorage.setItem("expirationDate",n),r(F(a,t,l)),r(H(3600))})).catch((function(e){r(B(e.response.data))}))}}(t,a,n,r))}}}))(Ne),Ue=a(548),Fe=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleSubmit=function(t){t.preventDefault();var a=t.target.username.value,n=t.target.password.value;console.log(a,n),e.props.login(a,n)},e.setPlay=function(t){e.props.getCurrentSong(t),e.props.setPlaylist(e.props.songs)},e.handleLike=function(t){e.props.ToggleLike(localStorage.getItem("token"),t),e.componentDidMount()},e.setPlayHistory=function(t){e.props.getCurrentSong(t),e.props.setPlaylist(e.props.history)},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getSuggestions(localStorage.getItem("token")),this.props.getLastReleases(localStorage.getItem("token"))}},{key:"render",value:function(){var e=this;console.log(localStorage.getItem("playlist"));var t=this.props.currentSong.file||localStorage.getItem("file")&&localStorage.getItem("file");if(console.log(this.props.props),!this.props.isAuthenticated)return r.a.createElement(m.a,{to:"/signin"});var a=null;return this.props.message&&(a=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.componentDidMount()),this.props.isAuthenticated?r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),a,r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:16},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,overflow:"auto",paddingLeft:20,borderBottom:"2px #ecf0f1 solid",borderRight:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,width:"100%"}},r.a.createElement(re.a,{style:{fontSize:25}})," Songs you may like"),r.a.createElement($.b,{style:{width:"auto"},dataSource:this.props.songs,loading:this.props.loading,renderItem:function(a){return r.a.createElement($.b.Item,{key:a.id,actions:[t===a.file?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(a.id)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),a.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(a.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:a.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(a.id)},a.name," ",a.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(a.category.label),padding:5,color:"#fff",borderRadius:3}},a.category.name):""),description:a.upload_date}))}}))),r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,paddingLeft:20,borderRight:"2px #ecf0f1 solid",borderBottom:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",width:"100%"}},r.a.createElement(Ue.a,{style:{fontSize:25}})," New Releases"),r.a.createElement($.b,{style:{width:"auto",height:350,paddingBottom:10,overflow:"auto"},dataSource:this.props.lastreleases,loading:this.props.loading,renderItem:function(a){return r.a.createElement($.b.Item,{key:a.id,actions:[t===a.file?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(a.id)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),a.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(a.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:a.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(a.id)},a.name," ",a.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(a.category.label),padding:5,color:"#fff",borderRadius:3}},a.category.name):""),description:a.upload_date}))}})))),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,borderBottom:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(le.a,{style:{fontSize:25}})," who to follow"),r.a.createElement(ke,null))),r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(se.a,{style:{fontSize:25}})," Listening history"),r.a.createElement(he,{history:this.props.history,loading:this.props.loading,songId:t}))))))):r.a.createElement(m.a,{to:"/signin"})}}]),a}(r.a.Component),Be=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,followloading:e.song.followLoading,history:e.player.history,followlist:e.song.followlist,message:e.song.message,songs:e.song.suggestions,successMessage:e.song.success,error:e.song.error,categories:e.song.categories,currentSong:e.player.currentTrack,lastreleases:e.song.lastReleases}}),(function(e){return{getSongs:function(){return e(C())},getSuggestions:function(t){return e(j(t))},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},getListeningHistory:function(t){return e(ge(t))},getLastReleases:function(t){return e(function(e){return function(t){t({type:"getLastReleasesStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/lastreleases/",{headers:{token:e}}).then((function(e){t(function(e){return{type:"getLastReleasesSuccess",songs:e}}(e.data))})).catch((function(e){t({type:"getLastReleasesFailed",error:e})}))}}(t))}}}))(Fe),Me=a(131),He=a(519),qe=a(549),We=a(550),Je=a(551),Ge=a(552),Ve=a(124),Ye=a.n(Ve),Ke=a(526),Xe=(we.a,function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,searchs:null,category:null,visible:!1,error:null,width:"16%",songid:null},e.handleFile=function(t){e.setState({file:t.target.files[0]})},e.handleCategory=function(t){e.setState({category:t},(function(){return console.log(e.state.category)}))},e.handleLike=function(t){e.props.ToggleLike(localStorage.getItem("token"),t)},e.setPlay=function(t){e.props.getCurrentSong(t),e.props.setPlaylist(e.props.songs)},e.handleInput=function(t){t.target.value?e.setState({width:"30%"}):e.setState({width:"16%"})},e.handleSubmit=function(t){t.preventDefault();var a=new Ye.a;a.append("name",t.target.songname.value),a.append("song",e.state.file,e.state.file.name),a.append("category",e.state.category),a.append("token",localStorage.getItem("token")),"mp3"===e.state.file.name.slice((Math.max(0,e.state.file.name.lastIndexOf("."))||1/0)+1)?(e.props.upload(a),e.setState({error:null})):e.setState({error:"file type error"})},e.showModal=function(t){e.setState({visible:!0,songid:t}),console.log(t)},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.handleCancel=function(){e.setState({visible:!1})},e.handleSearch=function(t){e.setState({searchs:t.target.value},(function(){return e.props.searchUploadings(e.state.searchs,localStorage.getItem("token"))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getuploadings(localStorage.getItem("token")),this.props.listCategories(),this.props.getPlaylists(localStorage.getItem("token"))}},{key:"render",value:function(){var e=this,t=null;this.props.message&&(t=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.props.afterLike(),this.props.getuploadings(localStorage.getItem("token")));var a=this.props.currentSong&&this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id");return console.log(a),this.props.isAuthenticated?r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:500}},r.a.createElement(Y.a,{visible:this.state.visible,title:"Your Playlists",onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(K.a,{key:"back",onClick:this.handleCancel},"Cancel")]},this.props.addError?r.a.createElement("center",null,r.a.createElement(X.a,{message:this.props.addError,description:"try out another song please",type:"error",style:{width:400,textAlign:"center",marginBottom:10}})):"",r.a.createElement($.b,{style:{height:300,overflow:"auto"},dataSource:this.props.playlists,loading:this.props.loading,renderItem:function(t){return r.a.createElement(p.b,{onClick:function(){return e.handleAddToPlaylist(t.id)}}," ",r.a.createElement($.b.Item,{key:t.id},r.a.createElement($.b.Item.Meta,{title:r.a.createElement(r.a.Fragment,null,t.name," "),description:t.user})))}})),null,t,r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:14,style:{borderRight:"2px #ecf0f1 solid"}},r.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#fff",marginRight:20,paddingTop:5,height:550,paddingLeft:20,paddingRight:20,paddingBottom:20}},r.a.createElement(y.a,{onChange:this.handleSearch,style:{marginBottom:20,width:"40%",background:"#ecf0f1"},prefix:r.a.createElement(qe.a,{style:{color:"rgba(0,0,0,.25)",borderRadius:20}}),icon:r.a.createElement(Ke.a,{name:"search",inverted:!0,circular:!0,link:!0}),placeholder:"Search by song name or category...",onFocus:this.handleInput,className:"inp"}),r.a.createElement("h3",{style:{color:"#8e44ad"}},r.a.createElement(We.a,{style:{fontSize:30}})," My Uploads  "),r.a.createElement("div",{style:{width:"100%",height:400,overflow:"auto"}},r.a.createElement($.b,{style:{marginTop:40},dataSource:this.props.songs,loading:this.props.getLoad,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[a==t.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(t.id)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Delete"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.props.delete(t.id,localStorage.getItem("token"))}},r.a.createElement(Je.a,{style:{fontSize:20,color:"#8e44ad"}}))),t.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(t.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(t.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(t.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more"},r.a.createElement(oe.a,{style:{fontSize:20,color:"#8e44ad"},onClick:function(){return e.showModal(t.id)}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(t.id)},t.name," ",t.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(t.category.label),padding:5,color:"#fff",borderRadius:3}},t.category.name):""),description:t.upload_date}))}})," "))),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:10},r.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#fff"}},r.a.createElement("h3",{style:{color:"#8e44ad"}},r.a.createElement(We.a,{style:{fontSize:30}})," Upload New Song  "),r.a.createElement("center",{style:{marginTop:50}},this.props.error?r.a.createElement(X.a,{message:"couldnt upload your song",description:this.props.error.message,type:"error",style:{width:200}}):"",this.state.error?r.a.createElement(X.a,{message:"unsportted file type",description:"try out another file please",type:"error",style:{width:350}}):"",r.a.createElement(Ce.a,{onSubmitCapture:this.handleSubmit,datatype:"",style:{width:"auto"},className:"login-form"},r.a.createElement(Ce.a.Item,null,r.a.createElement("h3",null,"drag or select files in the area below"),r.a.createElement(Ge.a,{style:{position:"relative",fontSize:200,color:"#8e44ad",cursor:"pointer",height:250,width:"100%"}}),r.a.createElement("input",{disabled:this.props.loading,onChange:this.handleFile,type:"file",style:{opacity:0,top:0,height:250,position:"absolute",width:"100%",cursor:"pointer"},required:!0})),r.a.createElement("buton",{style:{width:"100%",marginBottom:20,paddingBottom:10,cursor:"pointer"},onClick:function(){return e.fileInput.click()},required:!0}),this.state.file?r.a.createElement("div",null,r.a.createElement("h3",null," Selected: "),r.a.createElement("p",null,this.state.file.name)):"",this.state.file?r.a.createElement("div",null,r.a.createElement(Ce.a.Item,null,r.a.createElement(y.a,{disabled:this.props.loading,placeholder:"song name",name:"songname",defaultValue:this.state.file.name,required:!0})),r.a.createElement(Ce.a.Item,null,r.a.createElement(Me.a,{disabled:this.props.loading,placeholder:"Category",name:"categ",required:!0,onChange:this.handleCategory,defaultValue:"Select Category (not mandatory)"},r.a.createElement("option",{key:"0"}," None ",r.a.createElement(He.a,null)," "),this.props.categories&&this.props.categories.map((function(e){return r.a.createElement("option",{key:e.id,value:e.id},e.name)}))))):"",r.a.createElement(K.a,{htmlType:"submit",style:{width:"70%",backgroundColor:"#8e44ad",color:"#fff",border:"none",marginBottom:30,borderRadius:20},loading:this.props.loading,className:"login-form-button"},"Upload ",this.props.prog?r.a.createElement("h5",null,this.props.prog):"")," \xa0"))))))):r.a.createElement(m.a,{to:"/signin"})}}]),a}(r.a.Component)),$e=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,getLoad:e.song.getLoad,message:e.song.message,songs:e.song.songs,successMessage:e.song.success,error:e.song.error,addError:e.song.addError,categories:e.song.categories,playlists:e.song.playlists,currentSong:e.player.currentTrack}}),(function(e){return{upload:function(t){return e(I(t))},getuploadings:function(t){return e(L(t))},searchUploadings:function(t,a){return e(T(t,a))},listCategories:function(){return e(v())},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},afterLike:function(){return e({type:"afterLike",message:null})},addToPlaylist:function(t,a){return e(_(t,a))},getPlaylists:function(t){return e(N(t))}}}))(Xe),Qe=a(256),Ze=a(558),et=(a(503),a(528)),tt=a(520),at=a(113),nt=a(553),rt=a(554),ot=a(555),lt=a(556),st=a(557),it=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={commentID:null},e.handleDelete=function(t){e.props.deleteComment(t),e.props.getSong(e.props.songID)},e.handleDeleteReply=function(t){e.props.deleteReply(t),e.props.getSong(e.props.songID)},e.handleCommentLike=function(t){e.props.commentsLike(localStorage.getItem("token"),t,e.props.songID)},e.handleCommentDislike=function(t){e.props.commentsDislike(localStorage.getItem("token"),t),e.props.getSong(e.props.songID)},e.handleReplyLike=function(t){e.props.replysLike(localStorage.getItem("token"),t),e.props.getSong(e.props.songID)},e.handleReplyDislike=function(t){e.props.replysDislike(localStorage.getItem("token"),t),e.props.getSong(e.props.songID)},e.hnadleReplyCommentID=function(t){t===e.state.commentID?e.setState({commentID:null}):e.setState({commentID:t})},e.handleReplySubmit=function(t,a){e.props.addReply(localStorage.getItem("token"),t,a.target.reply.value),e.props.getSong(e.props.songID)},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},this.props.comments&&this.props.comments.length>0?this.props.comments.map((function(t){return r.a.createElement(r.a.Fragment,null,e.props.commentLoad?r.a.createElement(et.a,{avatar:!0,paragraph:{rows:2},active:!0},r.a.createElement(tt.a,{author:r.a.createElement("a",null,t.user.username),avatar:r.a.createElement(te.a,{src:t.avatar,alt:"Han Solo"}),content:r.a.createElement("p",null,t.comment),datetime:r.a.createElement(ee.a,{title:t.date},r.a.createElement("span",null,t.date))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(tt.a,{actions:[t.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{key:"comment-basic-like",title:"Like"},r.a.createElement("span",{onClick:function(){return e.handleCommentLike(t.id)}},r.a.createElement(nt.a,{style:{fontSize:16,color:"#8e44ad"}})," ",t.likes_count>0?t.likes_count:"")):r.a.createElement(ee.a,{key:"comment-basic-like",title:"Like"},r.a.createElement("span",{onClick:function(){return e.handleCommentLike(t.id)}},r.a.createElement(rt.a,{style:{fontSize:16,color:"#8e44ad"}})," ",t.likes_count>0?t.likes_count:"")),t.dislikes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Dislike"},r.a.createElement("span",{className:"comment-action",onClick:function(){return e.handleCommentDislike(t.id)}},r.a.createElement(ot.a,{style:{fontSize:16,color:"#8e44ad"}}),t.dislikes_count>0?t.dislikes_count:"")):r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Dislike"},r.a.createElement("span",{className:"comment-action",onClick:function(){return e.handleCommentDislike(t.id)}},r.a.createElement(lt.a,{style:{fontSize:16,color:"#8e44ad"}}),t.dislikes_count>0?t.dislikes_count:"")),t.user.username===localStorage.getItem("username")?r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Delete Comment"},r.a.createElement("span",{className:"comment-action",onClick:function(){return e.handleDelete(t.id)}},r.a.createElement(Je.a,{style:{fontSize:16,color:"#8e44ad"}}))):"",r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Reply"},r.a.createElement("span",{className:"comment-action"}," ",r.a.createElement(st.a,{style:{fontSize:16,color:"#8e44ad"},onClick:function(){return e.hnadleReplyCommentID(t.id)}})))],author:r.a.createElement("a",null,t.user.username),avatar:r.a.createElement(te.a,{src:t.avatar,alt:"Han Solo"}),content:r.a.createElement("p",null,t.comment),datetime:r.a.createElement(ee.a,{title:t.date},r.a.createElement("span",null,t.date))}),t.id===e.state.commentID?r.a.createElement(Ce.a,{style:{marginLeft:42},onSubmitCapture:function(t){return e.handleReplySubmit(e.state.commentID,t)}},r.a.createElement(Ce.a.Item,null,r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:2,sm:1,md:1,lg:1,xl:1},r.a.createElement("img",{src:localStorage.getItem("avatar"),style:{height:33,marginBottom:5,borderRadius:50}})),r.a.createElement(Z.a,{xs:21,sm:{span:17,offset:1},md:{span:17,offset:1},lg:{span:19,offset:0},xl:{span:19,offset:0}},r.a.createElement(y.a,{disabled:e.props.loading,placeholder:"Add Reply...",name:"reply",defaultValue:"",required:!0})),r.a.createElement(Z.a,{xs:24,sm:6,md:5,lg:4,xl:4},r.a.createElement("button",{htmltype:"submit",style:{marginLeft:10,background:"none",border:"2px #8e44ad solid",borderRadius:5,color:"#8e44ad",height:32},id:"bttn"},"Add Reply"))))):""),r.a.createElement("div",{style:{marginLeft:45,borderLeft:"2px #8e44ad solid",paddingLeft:10}},e.props.commentLoad?r.a.createElement(et.a,{avatar:!0,paragraph:{rows:2},active:!0},"dwq"):t.replys.map((function(t){return r.a.createElement(tt.a,{actions:[t.likes.find((function(e){return e.username===localStorage.getItem("username")}))||e.state.liked?r.a.createElement(ee.a,{key:"comment-basic-like",title:"Like"},r.a.createElement("span",{onClick:function(){return e.handleReplyLike(t.id)}},r.a.createElement(nt.a,{style:{fontSize:16,color:"#8e44ad"}})," ",t.likes_count>0?t.likes_count:"")):r.a.createElement(ee.a,{key:"comment-basic-like",title:"Like"},r.a.createElement("span",{onClick:function(){return e.handleReplyLike(t.id)}},r.a.createElement(rt.a,{style:{fontSize:16,color:"#8e44ad"}})," ",t.likes_count>0?t.likes_count:"")),t.dislikes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Dislike"},r.a.createElement("span",{className:"comment-action",onClick:function(){return e.handleReplyDislike(t.id)}},r.a.createElement(ot.a,{style:{fontSize:16,color:"#8e44ad"}}),t.dislikes_count>0?t.dislikes_count:"")):r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Dislike"},r.a.createElement("span",{className:"comment-action",onClick:function(){return e.handleReplyDislike(t.id)}},r.a.createElement(lt.a,{style:{fontSize:16,color:"#8e44ad"}}),t.dislikes_count>0?t.dislikes_count:"")),t.user.username===localStorage.getItem("username")?r.a.createElement(ee.a,{key:"comment-basic-dislike",title:"Delete Comment"},r.a.createElement("span",{className:"comment-action",onClick:function(){return e.handleDeleteReply(t.id)}},r.a.createElement(Je.a,{style:{fontSize:16,color:"#8e44ad"}}))):""],author:r.a.createElement("a",null,t.user.username),avatar:r.a.createElement(te.a,{src:t.avatar,alt:"Han Solo"}),content:r.a.createElement("p",null,t.reply),datetime:r.a.createElement(ee.a,{title:t.date},r.a.createElement("span",null,t.date))})}))))})):r.a.createElement(r.a.Fragment,null,r.a.createElement(at.a,{image:at.a.PRESENTED_IMAGE_SIMPLE})))}}]),a}(n.Component),ct=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,commentLoad:e.song.commentLoad,message:e.song.message,song:e.song.song,successMessage:e.song.success,error:e.song.error,currentSong:e.player.currentTrack,commentLiked:e.song.commentLiked}}),(function(e){return{getSong:function(t){return e(w(t))},addReply:function(t,a,n){return e(z(t,a,n))},searchUploadings:function(t,a){return e(T(t,a))},deleteComment:function(t){return e(R(t))},addComment:function(t,a,n){return e(O(t,a,n))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},commentsLike:function(t,a,n){return e(D(t,a,n))},commentsDislike:function(t,a){return e(A(t,a))},replysLike:function(t,a,n){return e(function(e,t){return function(a){S.a.post("https://django-react-music.herokuapp.com/songs/replyliketoggle/",{token:e,id:t}).then((function(e){a({type:"replyLikeSuccess"})}))}}(t,a))},replysDislike:function(t,a){return e(function(e,t){return function(a){S.a.post("https://django-react-music.herokuapp.com/songs/replydisliketoggle/",{token:e,id:t}).then((function(e){a({type:"replyDislikeSuccess"})}))}}(t,a))},deleteReply:function(t){return e(function(e){return function(t){t({type:"deleteReplysStart"}),S.a.delete("https://django-react-music.herokuapp.com/songs/replydelete/".concat(e,"/")).then((function(e){t(function(e){return{type:"deleteReplysSuccess",message:e}}(e.data))})).catch((function(e){t(function(e){return{type:"deleteReplysFailed",error:e}}(e))}))}}(t))}}}))(it),ut=null,mt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={likedid:[],commentID:null,visible:!1,songid:null},e.handleLike=function(t){e.props.isAuthenticated?e.props.ToggleLike(localStorage.getItem("token"),t):e.props.history.push("/signin")},e.handleSubmit=function(t){e.props.addComment(localStorage.getItem("token"),e.props.song.id,t.target.comment.value)},e.handleDelete=function(t){e.props.deleteComment(t),e.props.getSong(e.props.match.params.songID)},e.handleCommentLike=function(t){e.props.commentsLike(localStorage.getItem("token"),t),e.props.getSong(e.props.match.params.songID)},e.handleCommentDislike=function(t){e.props.commentsDislike(localStorage.getItem("token"),t),e.props.getSong(e.props.match.params.songID)},e.showModal=function(t){e.setState({visible:!0,songid:t})},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.handleCancel=function(){e.setState({visible:!1})},e.setPlay=function(t){var a=[];e.props.getCurrentSong(t),a.push({name:e.props.song.name,cover:e.props.song.cover,uploader:e.props.song.uploader,file:e.props.song.file,id:e.props.song.id,likes_count:e.props.song.likes_count,likes:e.props.song.likes}),console.log(a),e.props.setPlaylist(a)},e.showModal=function(t){e.setState({visible:!0,songid:t})},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.handleCancel=function(){e.setState({visible:!1})},e.showModal=function(t){e.setState({visible:!0,songid:t})},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.handleCancel=function(){e.setState({visible:!1})},e}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.getSong(this.props.match.params.songID),ut=this.props.match.params.songID}},{key:"render",value:function(){var e=this,t=this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id");this.props.match.params.songID!==ut&&this.componentWillMount();var a=null;return this.props.message&&(a=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.componentWillMount()),this.props.successMessage&&(a=V.b.success({content:this.props.successMessage,style:{marginTop:100}})),r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(Y.a,{visible:this.state.visible,title:"Your Playlists",onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(K.a,{key:"back",onClick:this.handleCancel},"Cancel")]},this.props.addError?r.a.createElement("center",null,r.a.createElement(X.a,{message:this.props.addError,description:"try out another song please",type:"error",style:{width:400,textAlign:"center",marginBottom:10}})):"",r.a.createElement($.b,{style:{height:300,overflow:"auto"},dataSource:this.props.playlists,loading:this.props.loading,renderItem:function(t){return r.a.createElement(p.b,{onClick:function(){return e.handleAddToPlaylist(t.id)}}," ",r.a.createElement($.b.Item,{key:t.id},r.a.createElement($.b.Item.Meta,{title:r.a.createElement(r.a.Fragment,null,t.name," "),description:t.user})))}})),r.a.createElement(G,{bg:"dark"}),r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},a,this.props.loading?r.a.createElement(Qe.a,{tip:"Loading..."},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:16},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",paddingBottom:10,minHeight:200,overflow:"hidden",borderBottom:"2px #ecf0f1 solid",borderRight:"2px #ecf0f1 solid"}},r.a.createElement(Q.a,{style:{width:"100%",height:"100%",background:"linear-gradient( #a29bfe,#dfe6e9)"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},r.a.createElement("img",{src:this.props.song.cover,style:{height:300,margin:15}})),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:10,style:{marginLeft:40,marginTop:20,color:"#ffffff",fontSize:25}},r.a.createElement("span",{style:{color:"#ecf0f1"}},this.props.song.uploader),r.a.createElement("br",null),this.props.song&&this.props.song.name," ",r.a.createElement("br",null),this.props.song.category&&""!==this.props.song.category.name?r.a.createElement("i",null,"#",this.props.song.category.name):"")),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24,style:{width:"auto",marginLeft:10,marginTop:10}},this.props.song.likes&&this.props.song.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(e.props.song.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}})," ",this.props.song.likes_count)):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(this.props.song.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(e.props.song.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})," ",this.props.song.likes_count)),r.a.createElement(ee.a,{placement:"bottom",title:"Comments"}," ",r.a.createElement(Ze.a,{style:{fontSize:20,cursor:"pointer",marginLeft:5,color:"#8e44ad"}}),r.a.createElement("span",{style:{fontSize:15,marginTop:20}}," ",this.props.song.comments_count)),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.showModal(e.props.song.id)}}," ",r.a.createElement("span",{style:{fontSize:20}},r.a.createElement(oe.a,{style:{fontSize:20,marginLeft:5,cursor:"pointer",color:"#8e44ad"}})," "))),t==this.props.match.params.songID?r.a.createElement("p",{style:{color:"#8e44ad",marginLeft:5,display:"inline-block"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay()}},r.a.createElement(ae.a,{style:{fontSize:20,marginLeft:5,color:"#8e44ad"}}))))),this.props.isAuthenticated?r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24,style:{marginTop:50,marginRight:15,width:"auto"}},r.a.createElement(Ce.a,{onSubmitCapture:this.handleSubmit},r.a.createElement(Ce.a.Item,null,r.a.createElement("img",{src:localStorage.getItem("avatar"),style:{width:35,marginLeft:10,height:32,display:"inline-block",marginBottom:5,borderRadius:2}}),r.a.createElement(y.a,{style:{width:"75%",display:"inline-block"},disabled:this.props.loading,placeholder:"Add Comment...",name:"comment",defaultValue:"",required:!0}),r.a.createElement("button",{style:{marginLeft:10,background:"none",display:"inline-block",border:"2px #8e44ad solid",borderRadius:5,color:"#8e44ad",height:32},id:"bttn"},"Add comment"))),r.a.createElement(ct,{comments:this.props.song.comments,songID:this.props.match.params.songID})):r.a.createElement(ct,{comments:this.props.song.comments,songID:this.props.match.params.songID})),r.a.createElement(Q.a,null)),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},this.props.isAuthenticated?r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,borderBottom:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(le.a,{style:{fontSize:25}})," who to follow"),r.a.createElement(ke,null))),r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(se.a,{style:{fontSize:25}})," Listening history"),r.a.createElement(he,{history:this.props.history,loading:this.props.loading,songId:t})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:600,borderBottom:"2px #ecf0f1 solid",position:"fixed",width:450}},r.a.createElement("div",null,r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:200,marginLeft:50,marginBottom:20,width:"100%"}},r.a.createElement(ie.a,{style:{fontSize:25}})," To Enhance Your Experience Please"),r.a.createElement(p.b,{to:"/signin"}," ",r.a.createElement("button",{style:{color:"#fff",backgroundColor:"#8e44ad",border:"none",width:150,height:40,borderRadius:3,marginLeft:50,marginRight:10}},"Sign in")),"or",r.a.createElement(p.b,{to:"/signup"},r.a.createElement("button",{style:{color:"#fff",backgroundColor:"#8e44ad",border:"none",width:150,height:40,borderRadius:3,marginLeft:10}},"Sign up")))))))):r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:16},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",paddingBottom:10,minHeight:200,overflow:"hidden",borderBottom:"2px #ecf0f1 solid",borderRight:"2px #ecf0f1 solid"}},r.a.createElement(Q.a,{style:{width:"100%",height:"100%",background:"linear-gradient( #a29bfe,#dfe6e9)"}},r.a.createElement(Z.a,{xs:24,sm:24,md:8,lg:8,xl:8},r.a.createElement("img",{src:this.props.song.cover,style:{height:300,margin:15}})),r.a.createElement(Z.a,{xs:24,sm:24,md:8,lg:8,xl:12,offset:3,style:{marginTop:20,color:"#ffffff",fontSize:25}},r.a.createElement("span",{style:{color:"#ecf0f1"}},this.props.song.uploader),r.a.createElement("br",null),this.props.song&&this.props.song.name," ",r.a.createElement("br",null),this.props.song.category&&""!==this.props.song.category.name?r.a.createElement("i",null,"#",this.props.song.category.name):"")),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24,style:{marginLeft:10,marginTop:10,width:"100%"}},this.props.song.likes&&this.props.song.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(e.props.song.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}})," ",this.props.song.likes_count)):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(this.props.song.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(e.props.song.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})," ",this.props.song.likes_count)),r.a.createElement(ee.a,{placement:"bottom",title:"Comments"}," ",r.a.createElement(Ze.a,{style:{fontSize:20,cursor:"pointer",marginLeft:5,color:"#8e44ad"}}),r.a.createElement("span",{style:{fontSize:15,marginTop:20}}," ",this.props.song.comments_count)),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.showModal(e.props.song.id)}}," ",r.a.createElement("span",{style:{fontSize:20}},r.a.createElement(oe.a,{style:{fontSize:20,marginLeft:5,cursor:"pointer",color:"#8e44ad"}})," "))),t==this.props.match.params.songID?r.a.createElement("p",{style:{color:"#8e44ad",marginLeft:5,display:"inline-block"}},r.a.createElement("a",{key:"list-loadmore-edit"},"Now Playing")):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(e.props.match.params.songID)}},r.a.createElement(ae.a,{style:{fontSize:20,cursor:"pointer",marginLeft:5,color:"#8e44ad"}}))))),this.props.isAuthenticated?r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24,style:{marginTop:50,marginRight:15}},r.a.createElement(Ce.a,{onSubmitCapture:this.handleSubmit},r.a.createElement(Ce.a.Item,null,r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:2,sm:1,md:1,lg:1,xl:1},r.a.createElement("img",{src:localStorage.getItem("avatar"),style:{height:33,marginBottom:5,borderRadius:50}})),r.a.createElement(Z.a,{xs:21,sm:{span:17,offset:1},md:{span:17,offset:1},lg:{span:19,offset:0},xl:{span:19,offset:0}},r.a.createElement(y.a,{disabled:this.props.loading,placeholder:"Add Comment...",name:"comment",defaultValue:"",required:!0})),r.a.createElement(Z.a,{xs:24,sm:6,md:5,lg:4,xl:4},r.a.createElement("button",{style:{background:"none",border:"2px #8e44ad solid",marginLeft:5,borderRadius:5,color:"#8e44ad",height:32},id:"bttn"},"Add comment"))))),r.a.createElement(ct,{comments:this.props.song.comments,songID:this.props.match.params.songID})):r.a.createElement(ct,{comments:this.props.song.comments,songID:this.props.match.params.songID})),r.a.createElement(Q.a,null)),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},this.props.isAuthenticated?r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,borderBottom:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(le.a,{style:{fontSize:25}})," who to follow"),r.a.createElement(ke,null))),r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"100%"}},r.a.createElement(se.a,{style:{fontSize:25}})," Listening history"),r.a.createElement(he,{history:this.props.history,loading:this.props.loading,songId:t})))):r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:600,borderBottom:"2px #ecf0f1 solid",position:"fixed",width:450}},r.a.createElement("div",null,r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:200,marginLeft:50,marginBottom:20,width:"100%"}},r.a.createElement(ie.a,{style:{fontSize:25}})," To Enhance Your Experience Please"),r.a.createElement(p.b,{to:"/signin"}," ",r.a.createElement("button",{style:{color:"#fff",backgroundColor:"#8e44ad",border:"none",width:150,height:40,borderRadius:3,marginLeft:50,marginRight:10}},"Sign in")),"or",r.a.createElement(p.b,{to:"/signup"},r.a.createElement("button",{style:{color:"#fff",backgroundColor:"#8e44ad",border:"none",width:150,height:40,borderRadius:3,marginLeft:10}},"Sign up")))))))))}}]),a}(n.Component),dt=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,history:e.player.history,commentLoad:e.song.commentLoad,message:e.song.message,song:e.song.song,successMessage:e.song.success,error:e.song.error,currentSong:e.player.currentTrack,addError:e.song.addError,playlists:e.song.playlists}}),(function(e){return{getSong:function(t){return e(w(t))},addReply:function(t,a,n){return e(z(t,a,n))},searchUploadings:function(t,a){return e(T(t,a))},deleteComment:function(t){return e(R(t))},addComment:function(t,a,n){return e(O(t,a,n))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},commentsLike:function(t,a){return e(D(t,a))},commentsDislike:function(t,a){return e(A(t,a))},setPlaylist:function(t){return e(me(t))},addToPlaylist:function(t,a){return e(_(t,a))},getPlaylists:function(t){return e(N(t))}}}))(mt),gt=a(40),pt=a(96),ft=a.n(pt),ht=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,name:null},e.showModal=function(){e.setState({visible:!0})},e.handleCancel=function(t){e.setState({visible:!1})},e.handleSubmit=function(t){null===e.state.name||(t.preventDefault(),e.props.addPlaylist(e.state.name,localStorage.getItem("token")))},e.handleChange=function(t){e.setState({name:t.target.value})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getPlaylists(localStorage.getItem("token"))}},{key:"render",value:function(){var e,t=null;if(this.props.message&&(this.setState({visible:!1}),t=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.props.afterLike(),this.props.getPlaylists(localStorage.getItem("token"))),!this.props.isAuthenticated)return r.a.createElement(m.a,{to:"/signin"});var a=this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id");return r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),t,r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},r.a.createElement(Q.a,null,this.props.loading?r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:16},r.a.createElement(Qe.a,null,r.a.createElement(Q.a,{style:{backgroundColor:"#fff",minHeight:200,overflow:"auto",borderRight:"2px #ecf0f1 solid",paddingLeft:20}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:15,width:"100%"}},r.a.createElement(ae.a,{style:{fontSize:25}})," Playlists"),r.a.createElement(Q.a,null,this.props.playlists.length>0?this.props.playlists&&this.props.playlists.map((function(e){return r.a.createElement(Z.a,{xs:24,sm:12,md:12,lg:8,xl:8},r.a.createElement("div",null,r.a.createElement(p.b,null,r.a.createElement("img",{src:e.songs[0]?"http://127.0.0.1:8000".concat(e.songs[0].cover):ft.a,width:"200",height:"200"}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#8e44ad",fontSize:20}},e.name)),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#636e72",fontSize:15}},e.user)))})):r.a.createElement(at.a,{image:at.a.PRESENTED_IMAGE_SIMPLE}))),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{span:24,style:{marginTop:50,marginRight:15}}))),r.a.createElement(Q.a,null))):r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:16},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",minHeight:200,overflow:"auto",borderBottom:"2px #ecf0f1 solid",borderRight:"2px #ecf0f1 solid",paddingLeft:20}},r.a.createElement("div",{style:{width:"100%"}},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:15,width:"100%"}},r.a.createElement(ae.a,{style:{fontSize:25}})," Playlists"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Q.a,null,this.props.playlists.length>0?this.props.playlists&&this.props.playlists.map((function(e){return r.a.createElement(Z.a,{xs:24,sm:12,md:12,lg:8,xl:8},r.a.createElement("div",null,r.a.createElement(p.b,{to:"playlist/".concat(e.id)},r.a.createElement("img",{src:e.songs[0]?"http://127.0.0.1:8000".concat(e.songs[0].cover):ft.a,width:"200",height:"200"}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#8e44ad",fontSize:20}},e.name)),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#636e72",fontSize:15}},e.user)))})):r.a.createElement(at.a,{image:at.a.PRESENTED_IMAGE_SIMPLE,style:{marginLeft:"45%"}})),r.a.createElement("center",null,r.a.createElement("button",{style:{color:"#fff",border:"none",marginTop:50,backgroundColor:"#8e44ad",bottom:0,marginRight:10,padding:5,borderRadius:3},onClick:this.showModal}," Add Playlist")),r.a.createElement(Y.a,{title:"Add Playlist",visible:this.state.visible,footer:[r.a.createElement(K.a,{key:"back",onClick:this.handleCancel},"Cancel"),r.a.createElement(K.a,{onClick:this.handleSubmit,loading:this.props.loading},"Add")]},this.props.error?r.a.createElement("center",null,r.a.createElement(X.a,{message:"This name is not available",description:"try out another name please",type:"error",style:{width:400,textAlign:"center",marginBottom:10}})):"",r.a.createElement(y.a,(e={disabled:this.props.loading,style:{width:470}},Object(gt.a)(e,"disabled",this.props.loading),Object(gt.a)(e,"onChange",this.handleChange),Object(gt.a)(e,"placeholder","Playlist Name..."),Object(gt.a)(e,"name","playlistname"),Object(gt.a)(e,"defaultValue",this.state.name),Object(gt.a)(e,"required",!0),e)))),r.a.createElement(Q.a,null,r.a.createElement(Z.a,{span:24,style:{marginTop:50,marginRight:15}}))),r.a.createElement(Q.a,null)),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:8},r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400,borderBottom:"2px #ecf0f1 solid"}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"40%"}},r.a.createElement(le.a,{style:{fontSize:25}})," who to follow"),r.a.createElement(ke,null))),r.a.createElement(Q.a,{style:{backgroundColor:"#fff",height:400}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:5,marginLeft:15,width:"40%"}},r.a.createElement(se.a,{style:{fontSize:25}})," Listening history"),r.a.createElement(he,{history:this.props.history,loading:this.props.loading,songId:a})))))))}}]),a}(n.Component),yt=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,history:e.player.history,commentLoad:e.song.commentLoad,playlists:e.song.playlists,song:e.song.song,message:e.song.message,error:e.song.error,currentSong:e.player.currentTrack}}),(function(e){return{getSong:function(t){return e(w(t))},addReply:function(t,a,n){return e(z(t,a,n))},searchUploadings:function(t,a){return e(T(t,a))},deleteComment:function(t){return e(R(t))},getPlaylists:function(t){return e(N(t))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},commentsLike:function(t,a){return e(D(t,a))},commentsDislike:function(t,a){return e(A(t,a))},setPlaylist:function(t){return e(me(t))},addPlaylist:function(t,a){return e(function(e,t){return function(a){a({type:"addPlaylistStart"}),S.a.post("https://django-react-music.herokuapp.com/songs/addplaylist/",{name:e,token:t}).then((function(e){a({type:"addPlaylistSuccess",success:e.response})})).catch((function(e){a({type:"addPlaylistFailed",error:e.response})}))}}(t,a))},afterLike:function(){return e({type:"afterLike",message:null})}}}))(ht),Et=function(e){return{type:"updateUserProfileSuccess",message:e}},bt=function(e){return{type:"updateUserProfileFailed",error:e}},kt=function(e){return function(t){t({type:"getSingleUserStart"}),S.a.get("https://django-react-music.herokuapp.com/user/single/".concat(e,"/"),{headers:{accept:"application/json; charset=UTF-8"}}).then((function(e){t({type:"getSingleUserSuccess",user:e.data})})).catch((function(e){t({type:"getSingleUserFailed",error:e})}))}},St=function(e){return function(t){t({type:"getUserPlaylistsStart"}),S.a.get("https://django-react-music.herokuapp.com/user/userplaylists/",{headers:{id:e}}).then((function(e){t(function(e){return{type:"getUserPlaylistsSuccess",playlists:e}}(e.data))})).catch((function(e){t({type:"getUserPlaylistsFailed",error:e})}))}},vt=function(e){return function(e){e({type:"getUserUploadsStart"}),S.a.get("https://django-react-music.herokuapp.com/user/useruploads/").then((function(t){e({type:"getUserUploadsSuccess",uploads:t.data})})).catch((function(t){e({type:"getUserUploadsFailed",error:t})}))}},Ct=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleLike=function(t){e.props.ToggleLike(localStorage.getItem("token"),t)},e.setPlay=function(t,a){e.props.getCurrentSong(t),e.props.setPlaylist(a)},e.handleRemovePlaylist=function(){e.props.removePlaylist(e.props.match.params.playlistID)},e.handleRemoveFromPlaylist=function(t){e.props.removeFromPlaylist(t,e.props.match.params.playlistID),e.componentDidMount()},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getPlaylist(this.props.match.params.playlistID)}},{key:"render",value:function(){var e=this,t=this.props.currentSong&&this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id"),a=null;return this.props.deleteSuccess&&(a=V.b.info({content:this.props.deleteSuccess,duration:1,style:{marginTop:50}}),this.props.history.push("/playlists")),this.props.message&&(this.setState({visible:!1}),a=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.props.afterLike(),this.props.getPlaylists(localStorage.getItem("token"))),r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},a,r.a.createElement(Q.a,null,r.a.createElement(Z.a,{span:24},r.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#fff",marginRight:20,paddingTop:30,height:550,paddingLeft:20,paddingRight:20,paddingBottom:20}},r.a.createElement("h2",{style:{color:"#8e44ad"}},r.a.createElement("i",null,this.props.playlist.user,"'s ",this.props.playlist.name," ")," "),r.a.createElement("hr",{style:{width:200,float:"left"}}),r.a.createElement("div",{style:{width:"100%",height:400,overflow:"auto"}},r.a.createElement($.b,{style:{marginTop:40},dataSource:this.props.playlist.songs,loading:this.props.loading,renderItem:function(a){return r.a.createElement($.b.Item,{key:a.id,actions:[t==a.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(a.id,e.props.playlist.songs)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),"Likes"!==e.props.playlist.name?r.a.createElement(ee.a,{placement:"bottom",title:"Remove From Playlist"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleRemoveFromPlaylist(a.id)}},r.a.createElement(Je.a,{style:{fontSize:20,color:"#8e44ad"}}))):" ",a.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(a.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:a.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(a.id)},a.name," ",a.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(a.category.label),padding:5,color:"#fff",borderRadius:3}},a.category.name):""),description:a.uploader}))}})," "),"Likes"!==this.props.playlist.name&&this.props.playlist.user===localStorage.getItem("username")?r.a.createElement("center",null,r.a.createElement("button",{style:{color:"#fff",border:"none",bottom:0,backgroundColor:"#d63031",padding:5,borderRadius:3},onClick:function(){return e.handleRemovePlaylist()}},r.a.createElement("i",null,"Remove Playlist ")," ")):"")))))}}]),a}(n.Component),wt=Object(E.b)((function(e){return{user:e.user.user,playlists:e.user.playlists,uploads:e.user.uploads,loading:e.song.loading,message:e.song.message,deleteSuccess:e.song.deleteSuccess,currentSong:e.player.currentTrack,playlist:e.song.playlist}}),(function(e){return{getUser:function(t){return e(kt(t))},getPlaylist:function(t){return e(function(e){return function(t){t({type:"getPlaylistStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/getplaylist/".concat(e,"/")).then((function(e){t({type:"getPlaylistSuccess",playlist:e.data})}))}}(t))},getUploads:function(t){return e(vt())},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},getPlaylists:function(t){return e(N(t))},afterLike:function(){return e({type:"afterLike",message:null})},removeFromPlaylist:function(t,a){return e(function(e,t){return function(a){a({type:"removeFromPlaylistStart"}),S.a.post("https://django-react-music.herokuapp.com/songs/removefromplaylist/",{song_id:e,playlist_id:t}).then((function(e){a(function(e){return{type:"removeFromPlaylistSuccess",message:e}}("song removed successfully"))})).catch((function(e){a(function(e){return{type:"removeFromPlaylistFailed",error:e}}("this song is already in the playlist"))}))}}(t,a))},removePlaylist:function(t){return e(function(e){return function(t){t({type:"removePlaylistStart"}),S.a.delete("https://django-react-music.herokuapp.com/songs/removeplaylist/".concat(e,"/")).then((function(e){t(function(e){return{type:"removePlaylistSuccess",message:e}}("playlist was deleted successfully"))})).catch((function(e){t(function(e){return{type:"removePlaylistFailed",error:e}}("this song is already in the playlist"))}))}}(t))}}}))(Ct),Lt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={file:null,searchs:null,category:null,error:null,width:"16%"},e.handleCategory=function(t){e.setState({category:t},(function(){return console.log(e.state.category)}))},e.handleLike=function(t){e.props.ToggleLike(localStorage.getItem("token"),t)},e.setPlay=function(t,a){e.props.getCurrentSong(t),e.props.setPlaylist(a)},e.handleInput=function(t){t.target.value?e.setState({width:"30%"}):e.setState({width:"16%"})},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getCategory(this.props.match.params.catID),this.props.listCategories()}},{key:"render",value:function(){var e=this,t=null,a=null;this.props.successMessage&&(a=V.b.success({content:this.props.successMessage,style:{marginTop:100}})),this.props.message&&(t=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.componentDidMount());var n=this.props.currentSong&&this.props.currentSong.file||localStorage.getItem("file")&&localStorage.getItem("file");return this.props.isAuthenticated?r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},a,t,r.a.createElement(Q.a,null,r.a.createElement(Z.a,{span:24},r.a.createElement("div",{className:"container-fluid",style:{backgroundColor:"#fff",marginRight:20,paddingTop:30,height:600,paddingLeft:20,paddingRight:20,paddingBottom:20}},r.a.createElement("h2",{style:{color:"#8e44ad"}},r.a.createElement("i",null,"#",this.props.category.name," ")," "),r.a.createElement("hr",{style:{width:200,float:"left"}}),r.a.createElement("div",{style:{width:"100%",height:450,overflow:"auto"}},r.a.createElement($.b,{style:{marginTop:40},dataSource:this.props.category.songs,loading:this.props.getLoad,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[n===t.file?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(t.id,e.props.category.songs)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Delete"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.props.delete(t.id,localStorage.getItem("token"))}},r.a.createElement(Je.a,{style:{fontSize:20,color:"#8e44ad"}}))),t.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(t.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(t.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(t.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(t.id)},t.name," ",e.props.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(e.props.category.label),padding:5,color:"#fff",borderRadius:3}},e.props.category.name):""),description:t.upload_date}))}})," ")))))):r.a.createElement(m.a,{to:"/signin"})}}]),a}(r.a.Component),It=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,getLoad:e.song.getLoad,message:e.song.message,category:e.song.category,successMessage:e.song.success,error:e.song.error,categories:e.song.categories,currentSong:e.player.currentTrack}}),(function(e){return{upload:function(t){return e(I(t))},getCategory:function(t){return e(function(e){return function(t){t({type:"getCategoryStart"}),S.a.get("https://django-react-music.herokuapp.com/songs/category/".concat(e,"/")).then((function(e){t({type:"getCategorySuccess",category:e.data})}))}}(t))},searchUploadings:function(t,a){return e(T(t,a))},listCategories:function(){return e(v())},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))}}}))(Lt),Pt=a(521),Tt=null,xt=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).handleCategory=function(t){e.setState({category:t},(function(){return console.log(e.state.category)}))},e.handleLike=function(t){e.props.ToggleLike(localStorage.getItem("token"),t)},e.setPlay=function(t){e.props.getCurrentSong(t),e.props.setPlaylist(e.props.uploads)},e.iconHandle=function(e){return"Normal"===e?("#dfe6e9",Tt=null):"Premium"===e?("#8e44ad",Tt=r.a.createElement(b.a,{style:{color:"#8e44ad",marginLeft:2}})):("#c0392b",Tt=r.a.createElement(b.a,{style:{color:"#c0392b",marginLeft:2}})),Tt},e.handleBorder=function(e){return"Normal"===e?"#dfe6e9":"Premium"===e?"#8e44ad":"#c0392b"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUser(this.props.match.params.userID),this.props.getPlaylists(this.props.match.params.userID),this.props.getUploads(this.props.match.params.userID)}},{key:"render",value:function(){var e=this,t=null;this.props.message&&(t=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.props.afterLike(),this.props.getUploads(this.props.match.params.userID));var a=this.props.currentSong&&this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id"),n=Pt.a.TabPane;return r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:20,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),t,r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:8,xl:8,style:{borderRight:"2px #ecf0f1 solid",borderBottom:"2px #ecf0f1 solid",height:400,backgroundColor:"#ffff",paddingLeft:20,paddingRight:20,paddingTop:20}},r.a.createElement("center",null,r.a.createElement("img",{src:this.props.user.avatar,style:{borderRadius:"50%",height:200,width:200,border:"5px ".concat(this.handleBorder(this.props.user.user_type)," solid")}}),r.a.createElement("h3",null,this.props.user.username,this.iconHandle(this.props.user.user_type)," "),r.a.createElement("span",{style:{backgroundColor:"".concat(this.handleBorder(this.props.user.user_type)),fontSize:15,borderRadius:3,padding:2,color:"#fff"}},this.props.user.user_type),r.a.createElement("h4",{style:{marginTop:10}},"Followers : ",this.props.user.followers_count),r.a.createElement("h4",{style:{marginTop:10}},"Following : ",this.props.user.following_count))),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:16,xl:16,style:{backgroundColor:"#ffff",color:"red",height:550,paddingLeft:20,paddingRight:20,paddingTop:10}},r.a.createElement(Pt.a,{defaultActiveKey:"1"},r.a.createElement(n,{tab:"Uploads",key:"1"},r.a.createElement("div",{style:{width:"100%",height:450,overflow:"auto"}},r.a.createElement($.b,{style:{marginTop:40},dataSource:this.props.uploads,loading:this.props.loading,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[a===t.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(t.id)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),t.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(t.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(t.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(t.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(t.id)},t.name," ",t.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(t.category.label),padding:5,color:"#fff",borderRadius:3}},t.category.name):""),description:t.upload_date}))}})," ")),r.a.createElement(n,{tab:"Playlists",key:"2"},r.a.createElement("div",{style:{width:"100%",overflow:"auto",height:450}},r.a.createElement(Q.a,null,this.props.playlists.length>0?this.props.playlists&&this.props.playlists.map((function(e){return r.a.createElement(Z.a,{xs:24,sm:12,md:12,lg:12,xl:8},r.a.createElement("div",null,r.a.createElement(p.b,{to:"/playlist/".concat(e.id)},r.a.createElement("img",{src:e.songs[0]?"http://127.0.0.1:8000".concat(e.songs[0].cover):ft.a,width:"200",height:"200"}),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#8e44ad",fontSize:20}},e.name)),r.a.createElement("br",null),r.a.createElement("span",{style:{color:"#636e72",fontSize:15}},e.user)))})):r.a.createElement(at.a,{image:at.a.PRESENTED_IMAGE_SIMPLE,style:{marginLeft:"45%"}})))))))))}}]),a}(n.Component),jt=Object(E.b)((function(e){return{user:e.user.user,playlists:e.user.playlists,uploads:e.user.uploads,loading:e.user.loading,currentSong:e.player.currentTrack,message:e.song.message}}),(function(e){return{getUser:function(t){return e(kt(t))},getPlaylists:function(t){return e(St(t))},getUploads:function(t){return e(vt())},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},afterLike:function(){return e({type:"afterLike",message:null})}}}))(xt),Ot=a(559),Rt=function(e){console.log(e,"I was closed.")},Dt=null,At=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={file:null},e.handleCategory=function(t){e.setState({category:t},(function(){return console.log(e.state.category)}))},e.handleLike=function(t){e.props.ToggleLike(localStorage.getItem("token"),t)},e.setPlay=function(t){e.props.getCurrentSong(t),e.props.setPlaylist(e.props.uploads)},e.iconHandle=function(e){return"Normal"===e?("#dfe6e9",Dt=null):"Premium"===e?("#8e44ad",Dt=r.a.createElement(b.a,{style:{color:"#8e44ad",marginLeft:2}})):("#c0392b",Dt=r.a.createElement(b.a,{style:{color:"#c0392b",marginLeft:2}})),Dt},e.handleBorder=function(e){return"Normal"===e?"#dfe6e9":"Premium"===e?"#8e44ad":"#c0392b"},e.handleChangePassword=function(t){t.preventDefault(),e.props.updateUserPassword(t.target.password1.value,t.target.password2.value,t.target.password3.value,localStorage.getItem("token"))},e.handleEdit=function(t){t.preventDefault();var a=new Ye.a;e.setState({file:t.target.files[0]},(function(){a.append("avatar",e.state.file,e.state.file.name),a.append("token",localStorage.getItem("token")),e.props.updateUserImage(a),e.props.getUserProfile(localStorage.getItem("token"))}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.getUserProfile(localStorage.getItem("token"))}},{key:"render",value:function(){var e=this;this.props.currentSong&&this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id");console.log(this.props.profile.avatar);Pt.a.TabPane;console.log(this.props.playlists);var t=null;return this.props.isAuthenticated?(this.props.message&&(t=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}})),r.a.createElement("div",{style:{width:"100%",minHeight:700,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),t,r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:12,xl:8,style:{borderRight:"2px #ecf0f1 solid",borderBottom:"2px #ecf0f1 solid",minHeight:400,backgroundColor:"#ffff",paddingLeft:10,paddingRight:20,paddingTop:5}},r.a.createElement("center",null,r.a.createElement("span",null,r.a.createElement(K.a,{htmlType:"submit",onClick:function(){return e.avatar.click()},style:{width:"30%",marginTop:5,backgroundColor:"#8e44ad",color:"#fff",border:"none",marginBottom:20,borderRadius:4,padding:5,float:"right"},loading:this.props.loading,className:"login-form-button"},r.a.createElement(Ot.a,null),"Edit Avatar")," \xa0",r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:this.props.profile.avatar,style:{borderRadius:"50%",height:200,zIndex:-1,width:200,border:"5px ".concat(this.handleBorder(this.props.profile.user_type)," solid")}})),r.a.createElement("input",{type:"file",style:{display:"none"},onChange:function(t){return e.handleEdit(t)},name:"upload",ref:function(t){return e.avatar=t}}),r.a.createElement("h3",null,this.props.profile.username,this.iconHandle(this.props.profile&&this.props.profile.user_type)," "),r.a.createElement("span",{style:{backgroundColor:"".concat(this.handleBorder(this.props.profile&&this.props.profile.user_type)),fontSize:15,borderRadius:3,padding:2,color:"#fff"}},this.props.profile.user_type),r.a.createElement("h4",{style:{marginTop:10}},"Followers : ",this.props.profile.followers_count),r.a.createElement("h4",{style:{marginTop:10}},"Following : ",this.props.profile.following_count))),r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:12,xl:16,style:{backgroundColor:"#ffff",color:"red",minHeight:400,paddingLeft:20,paddingRight:20,paddingTop:5}},r.a.createElement("center",null,this.props.error?Object.keys(this.props.error&&this.props.error).map((function(t){return e.props.error[t]&&e.props.error[t].map((function(e){return r.a.createElement("div",null,r.a.createElement(X.a,{description:e,type:"error",closable:!0,style:{width:450,marginLeft:"20%",marginBottom:3},onClose:Rt}))}))})):"",r.a.createElement("h1",{style:{color:"#8e44ad",fontWeight:1e3,marginBottom:10}},"Change Password"),r.a.createElement(Ce.a,{onSubmitCapture:this.handleChangePassword,style:{width:350},className:"login-form"},r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"password",style:{color:"rgba(0,0,0,.25)",float:"left"}},"New Password"),r.a.createElement(y.a,{prefix:r.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password",name:"password1",required:!0,disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"password",style:{color:"rgba(0,0,0,.25)",float:"left"}},"Confirm New Password"),r.a.createElement(y.a,{prefix:r.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password(Confirmation)",name:"password2",required:!0,disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement("label",{htmlFor:"password",style:{color:"rgba(0,0,0,.25)",float:"left"}},"Old Password"),r.a.createElement(y.a,{prefix:r.a.createElement(Ie.a,{style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Old Password",name:"password3",required:!0,disabled:this.props.loading})),r.a.createElement(Ce.a.Item,null,r.a.createElement(K.a,{htmlType:"submit",style:{width:"100%",backgroundColor:"#8e44ad",color:"#fff",border:"none",paddingBottom:20,borderRadius:4},loading:this.props.loading,className:"login-form-button"},"Update")," \xa0")))))))):r.a.createElement(m.a,{to:"/"})}}]),a}(n.Component),zt=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,profile:e.user.profile,playlists:e.user.playlists,uploads:e.user.uploads,loading:e.user.loading,error:e.user.error,message:e.user.success}}),(function(e){return{getUser:function(t){return e(kt(t))},getPlaylists:function(t){return e(St(t))},getUploads:function(t){return e(vt())},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},afterLike:function(){return e({type:"afterLike",message:null})},getUserProfile:function(t){return e(function(e){return function(t){t({type:"getUserProfileStart"}),S.a.get("https://django-react-music.herokuapp.com/user/profile/",{headers:{Authorization:"Token ".concat(e),accept:"application/json","Content-Type":"application/json"}}).then((function(e){t({type:"getUserProfileSuccess",user:e.data[0]})})).catch((function(e){t({type:"getUserProfileFailed",error:e})}))}}(t))},updateUserPassword:function(t,a,n,r){return e(function(e,t,a,n){return function(r){r({type:"updateUserProfileStart"}),S.a.post("https://django-react-music.herokuapp.com/users/password/change/",{new_password1:e,new_password2:t,old_password:a},{headers:{Authorization:"Token ".concat(n)}}).then((function(e){r(Et("updated successfully"))})).catch((function(e){r(bt(e.response.data))}))}}(t,a,n,r))},updateUserImage:function(t){return e(function(e){return function(t){t({type:"updateUserProfileStart"}),S.a.post("https://django-react-music.herokuapp.com/user/editprofile/",e).then((function(e){t(Et("updated successfully"))})).catch((function(e){t(bt(e.response.data))}))}}(t))}}}))(At),Nt=(Pt.a.TabPane,null),_t=null,Ut=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,o=new Array(n),l=0;l<n;l++)o[l]=arguments[l];return(e=t.call.apply(t,[this].concat(o))).state={visible:!1,error:null},e.showModal=function(t){e.setState({visible:!0,songid:t})},e.handleAddToPlaylist=function(t){e.props.addToPlaylist(e.state.songid,t)},e.handleCancel=function(){e.setState({visible:!1})},e.iconHandle=function(e){return"Normal"===e?("#dfe6e9",_t=null):"Premium"===e?("#8e44ad",_t=r.a.createElement(ee.a,null,r.a.createElement(b.a,{style:{color:"#8e44ad",margin:3,top:0,fontSize:13}}))):("#c0392b",_t=r.a.createElement(ee.a,null,r.a.createElement(b.a,{style:{color:"#c0392b",margin:3,top:0,fontSize:13}}))),_t},e.handleBorder=function(e){return"Normal"===e?"#dfe6e9":"Premium"===e?"#8e44ad":"#c0392b"},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.props.searchResults(this.props.match.params.query),Nt=this.props.match.params.query}},{key:"render",value:function(){var e=this;this.props.match.params.query!==Nt&&this.componentDidMount();var t=function(t){e.props.ToggleLike(localStorage.getItem("token"),t),e.componentDidMount()},a=null;this.props.message&&(a=V.b.info({content:this.props.message,duration:1,style:{marginTop:50}}),this.props.afterLike(),this.props.getUploads(this.props.match.params.userID));var n=this.props.currentSong&&this.props.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id"),o=Pt.a.TabPane;return console.log(this.props.playlists),r.a.createElement("div",{style:{width:"100%",minHeight:710,backgroundColor:"#ecf0f1",paddingTop:1,paddingBottom:50}},r.a.createElement(G,{bg:"dark"}),a,r.a.createElement("div",{className:"container-fluid",style:{borderRadius:5,padding:50,paddingBottom:5,width:"100%",minHeight:300}},r.a.createElement(Q.a,null,r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:16,xl:24,style:{backgroundColor:"#ffff",color:"red",minHeight:550,paddingLeft:20,paddingRight:20,paddingTop:10}},r.a.createElement("h3",{style:{color:"#8e44ad",marginTop:25,width:"100%"}},r.a.createElement(qe.a,{style:{fontSize:25}})," Search Results for '",this.props.match.params.query,"'"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement(Pt.a,{tabPosition:"left"},r.a.createElement(o,{tab:"Songs",key:"1"},r.a.createElement($.b,{style:{width:"auto",paddingLeft:10,height:400,overflow:"auto"},dataSource:this.props.results.songs,loading:this.props.loading,renderItem:function(a){return r.a.createElement($.b.Item,{key:a.id,actions:[n==a.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return t=a.id,e.props.getCurrentSong(t),void e.props.setPlaylist(e.props.songs);var t}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),a.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return t(a.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(a.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return t(a.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.showModal(a.id)}},r.a.createElement(oe.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:"http://127.0.0.1:8000".concat(a.cover)}),title:r.a.createElement(p.b,{to:"/song/".concat(a.id)},a.name," ",a.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(a.category.label),padding:5,color:"#fff",borderRadius:3}},a.category.name):""),description:a.upload_date}))}})),r.a.createElement(o,{tab:" People",key:"2"},r.a.createElement($.b,{style:{marginLeft:10,marginRight:10,paddingBottom:10,width:"auto",height:400,overflow:"auto"},dataSource:this.props.results.users,loading:this.props.followloading,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[t.followers.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement("button",{style:{marginLeft:10,background:"none",border:"2px #8e44ad solid",borderRadius:5,color:"#8e44ad",height:32},onClick:function(){return e.handleFollowToggle(t.id)},id:"bttn"},"Unfollow"):r.a.createElement("button",{style:{marginLeft:10,background:"none",border:"2px #8e44ad solid",borderRadius:5,color:"#8e44ad",height:32},onClick:function(){return e.handleFollowToggle(t.id)},id:"bttn"},"Follow")]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.avatar,style:{border:"2px solid ".concat(e.handleBorder(t.user_type))}}),title:r.a.createElement(p.b,{to:"/user/".concat(t.id)},t.username," ",e.iconHandle(t.user_type)," "),description:r.a.createElement(ee.a,{placement:"bottom",title:"followers"},r.a.createElement("p",{style:{display:"inline",cursor:"pointer",padding:0,width:10}},r.a.createElement(ye.a,{style:{fontSize:15,marginBottom:15}})," ",r.a.createElement("span",{style:{fontSize:12}},t.followers_count)))}))}})),r.a.createElement(o,{tab:" Categories",key:"3"},this.props.results.categories&&this.props.results.categories.map((function(t){return r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("h2",{style:{color:"#8e44ad",marginTop:10,width:"20%"}},r.a.createElement("i",null,"#",t.name)),r.a.createElement($.b,{style:{width:"auto",height:200,overflow:"auto"},dataSource:t.songs,loading:e.props.loading,renderItem:function(a){return r.a.createElement($.b.Item,{key:a.id,actions:[n==a.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return e.setPlay(a.id,t.songs)}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}}))),a.likes.find((function(e){return e.username===localStorage.getItem("username")}))?r.a.createElement(ee.a,{placement:"bottom",title:"unlike"},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(ne.a,{style:{fontSize:20,color:"#8e44ad"}}))):r.a.createElement(ee.a,{placement:"bottom",title:"".concat(a.likes_count," Like")},r.a.createElement("a",{key:"list-loadmore-more",onClick:function(){return e.handleLike(a.id)}},r.a.createElement(re.a,{style:{fontSize:20,color:"#8e44ad"}}))),r.a.createElement(ee.a,{placement:"bottom",title:"Add To Playlist"},r.a.createElement("a",{key:"list-loadmore-more"},r.a.createElement(oe.a,{style:{fontSize:20,color:"#8e44ad"},onClick:function(){return e.showModal(a.id)}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:a.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(a.id)},a.name," ",a.category.name?r.a.createElement("span",{style:{backgroundColor:"".concat(a.category.label),padding:5,color:"#fff",borderRadius:3}},a.category.name):""),description:r.a.createElement(r.a.Fragment,null,a.uploader," ",r.a.createElement("br",null)," ",a.upload_date," ")}))}}),r.a.createElement(p.b,{to:"/category/".concat(t.id)},r.a.createElement("h4",{style:{textAlign:"center",color:"#8e44ad"}},"view all")),r.a.createElement("hr",{style:{marginTop:20,marginBottom:40}}))}))))))))}}]),a}(n.Component),Ft=Object(E.b)((function(e){return{results:e.song.results}}),(function(e){return{searchResults:function(t){return e(U(t))},getSongs:function(){return e(C())},getSuggestions:function(t){return e(j(t))},delete:function(t,a){return e(P(t,a))},getCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setPlaylist:function(t){return e(me(t))},getListeningHistory:function(t){return e(ge(t))},addToPlaylist:function(t,a){return e(_(t,a))},getPlaylists:function(t){return e(N(t))}}}))(Ut),Bt=function(){return r.a.createElement("div",null,r.a.createElement(m.b,{exact:!0,path:"/",component:ve}),r.a.createElement(m.b,{exact:!0,path:"/signin",component:De}),r.a.createElement(m.b,{exact:!0,path:"/signup",component:_e}),r.a.createElement(m.b,{exact:!0,path:"/songs",component:Be}),r.a.createElement(m.b,{exact:!0,path:"/uploads",component:$e}),r.a.createElement(m.b,{exact:!0,path:"/song/:songID",component:dt}),r.a.createElement(m.b,{exact:!0,path:"/playlists",component:yt}),r.a.createElement(m.b,{exact:!0,path:"/playlist/:playlistID",component:wt}),r.a.createElement(m.b,{exact:!0,path:"/category/:catID",component:It}),r.a.createElement(m.b,{exact:!0,path:"/user/:userID",component:jt}),r.a.createElement(m.b,{exact:!0,path:"/profile",component:zt}),r.a.createElement(m.b,{exact:!0,path:"/search/:query",component:Ft}))},Mt=a(74),Ht=a(563),qt=a(560),Wt=a(561),Jt=a(562),Gt=a(564),Vt=a(565),Yt=a(566),Kt=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,paused:e.player.paused,duration:e.player.duration,currentTime:e.player.currentTime,songs:e.player.songs,currentSong:e.player.currentTrack}}),(function(e){return{play:function(t){return e(ue(t))},searchUploadings:function(t,a){return e(T(t,a))},listCategories:function(){return e(v())},setCurrentSong:function(t,a){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setListeningHistory:function(t,a){return e(de(t,a))},setPlaylist:function(t){return e(me(t))}}}))((function(e){Object(n.useRef)("audio_tag");var t=Object(n.useState)(1),a=Object(Mt.a)(t,2),o=(a[0],a[1],Object(n.useState)(0)),l=Object(Mt.a)(o,2),s=(l[0],l[1],Object(n.useState)(!1)),i=Object(Mt.a)(s,2),c=i[0],u=i[1],m=Object(n.useState)(0),d=Object(Mt.a)(m,2),g=(d[0],d[1]),f=Object(n.useState)(!1),h=Object(Mt.a)(f,2),y=(h[0],h[1],function(e){return(e-(e%=60))/60+(10<e?":":":0")+~~e}),E=(e.currentSong.file||localStorage.getItem("file"),e.paused,document.getElementById("Aud")),b=(document.getElementById("prg"),function(t){var a=JSON.parse(localStorage.getItem("playlist")),n=JSON.parse(localStorage.getItem("id")),r=a.findIndex((function(e){return e.id===n}));if("next"===t)if(r===a.length-1)r=0,e.setCurrentSong(a[r].id);else{var o=r+1;e.setCurrentSong(a[o].id)}else if("prev"===t)if(0===r)e.setCurrentSong(a[a.length-1].id);else{var l=r-1;e.setCurrentSong(a[l].id)}}),k=e.currentSong&&e.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id"),S=null;return S=localStorage.getItem("songName")&&localStorage.getItem("songName").length>43?localStorage.getItem("songName").substr(0,40)+"...":localStorage.getItem("songName"),r.a.createElement("div",null,r.a.createElement(Y.a,{title:"Current Playlist",centered:!0,visible:c,style:{top:0},closable:!1,footer:[r.a.createElement(K.a,{type:"primary",key:"back",onClick:function(){return u(!1)}},"Ok")]},r.a.createElement($.b,{style:{width:"100%",overflow:"auto",height:300},dataSource:JSON.parse(localStorage.getItem("playlist")),loading:e.loading,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[k===t.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return a=t.id,e.setCurrentSong(a),void e.setPlaylist(JSON.parse(localStorage.getItem("playlist")));var a}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(t.id)},t.name," "),description:t.upload_date}))}})),r.a.createElement(Q.a,{style:{paddingLeft:70}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("img",{src:localStorage.getItem("songCover")})," ",r.a.createElement("br",null),r.a.createElement("h3",{style:{marginTop:25,width:"100%"}},"  ",r.a.createElement(p.b,{style:{color:"#8e44ad",overflow:"auto"},to:"/song/".concat(e.currentSong.id||localStorage.getItem("id"))},S)))),r.a.createElement(Q.a,{style:{marginLeft:120}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("div",null,r.a.createElement("span",{style:{fontSize:35,cursor:"pointer"},onClick:function(){b("prev")}},r.a.createElement(qt.a,null)),r.a.createElement("span",{style:{fontSize:35,cursor:"pointer"}},r.a.createElement("span",{onClick:function(){var t=document.getElementById("Aud");e.play(t)}.bind(void 0)},e.paused?r.a.createElement(ae.a,null):r.a.createElement(Wt.a,null))),r.a.createElement("span",{style:{fontSize:35,cursor:"pointer"},onClick:function(){b("next")}},r.a.createElement(Jt.a,null))))),r.a.createElement(Q.a,{style:{marginLeft:50}},r.a.createElement(Z.a,{xs:24,sm:24,md:24,lg:24,xl:24},r.a.createElement("div",{className:"progressb2"},r.a.createElement("span",{className:"currentT"},e.currentTime?y(e.currentTime):"0:00"),r.a.createElement("input",{type:"range",dots:"true",onChange:function(e){return function(e){var t=e*E.duration/100;g(t),E.currentTime=t}(e.target.value)},value:e.duration?100*e.currentTime/e.duration:0,tooltipVisible:!1,style:{marginBottom:15,marginRight:25,cursor:"pointer"},class:"progressb",id:"prg"}),r.a.createElement("span",{className:"totalT"},e.duration?y(e.duration):"0:00")))))})),Xt=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,paused:e.player.paused,duration:e.player.duration,currentTime:e.player.currentTime,songs:e.player.songs,currentSong:e.player.currentTrack}}),(function(e){return{play:function(t){return e(ue(t))},searchUploadings:function(t,a){return e(T(t,a))},listCategories:function(){return e(v())},setCurrentSong:function(t){return e(pe(t))},ToggleLike:function(t,a){return e(x(t,a))},setListeningHistory:function(t,a){return e(de(t,a))},setPlaylist:function(t){return e(me(t))},getDuration:function(t){return e(function(e){return{type:"getDuration",duration:e.duration}}(t))},getCurrentTime:function(t){return e(function(e){return{type:"getCurrentTime",currentTime:e}}(t))}}}))((function(e){var t=Object(n.useRef)("audio_tag"),a=Object(n.useState)(1),o=Object(Mt.a)(a,2),l=o[0],s=o[1],i=Object(n.useState)(!1),c=Object(Mt.a)(i,2),u=c[0],m=c[1],d=Object(n.useState)(!1),g=Object(Mt.a)(d,2),f=g[0],h=g[1],y=function(e){return(e-(e%=60))/60+(10<e?":":":0")+~~e},E=e.currentSong.file||localStorage.getItem("file"),b=!e.paused,k=function(t){var a=JSON.parse(localStorage.getItem("playlist")),n=JSON.parse(localStorage.getItem("id")),r=a.findIndex((function(e){return e.id===n}));if("next"===t)if(r===a.length-1)r=0,e.setCurrentSong(a[r].id);else{var o=r+1;e.setCurrentSong(a[o].id)}else if("prev"===t)if(0===r)e.setCurrentSong(a[a.length-1].id);else{var l=r-1;e.setCurrentSong(a[l].id)}},S=e.currentSong&&e.currentSong.id||localStorage.getItem("id")&&localStorage.getItem("id"),v=null;return v=localStorage.getItem("songName")&&localStorage.getItem("songName").length>43?localStorage.getItem("songName").substr(0,40)+"...":localStorage.getItem("songName"),r.a.createElement("div",{className:"controls",style:{paddingLeft:180,paddingBottom:20}},r.a.createElement(Y.a,{title:"Current Playlist",centered:!0,visible:u,style:{top:0},closable:!1,footer:[r.a.createElement(K.a,{type:"primary",key:"back",onClick:function(){return m(!1)}},"Ok")]},r.a.createElement($.b,{style:{width:"100%",overflow:"auto",height:300},dataSource:JSON.parse(localStorage.getItem("playlist")),loading:e.loading,renderItem:function(t){return r.a.createElement($.b.Item,{key:t.id,actions:[S===t.id?r.a.createElement("p",{style:{color:"#8e44ad"}},"Now Playing"):r.a.createElement(ee.a,{placement:"bottom",title:"Play"},r.a.createElement("a",{key:"list-loadmore-edit",onClick:function(){return a=t.id,e.setCurrentSong(a),void e.setPlaylist(JSON.parse(localStorage.getItem("playlist")));var a}},r.a.createElement(ae.a,{style:{fontSize:20,color:"#8e44ad"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{src:t.cover}),title:r.a.createElement(p.b,{to:"/song/".concat(t.id)},t.name," "),description:t.upload_date}))}})),r.a.createElement("audio",{src:E,ref:t,onCanPlay:function(t){return e.getDuration(t.target)},onTimeUpdate:function(t){return e.getCurrentTime(t.target.currentTime)},onEnded:function(){var t=JSON.parse(localStorage.getItem("playlist")),a=JSON.parse(localStorage.getItem("id")),n=t.findIndex((function(e){return e.id===a}));if(t[n]===t.length-1)n=0,e.setCurrentSong(t[n].id);else{var r=n+1;r>=t.length-1?(r=0,e.setCurrentSong(t[r].id)):e.setCurrentSong(t[r].id)}},autoPlay:b,id:"Aud"}),r.a.createElement("div",{class:"vlme",style:{width:100,marginLeft:100,marginBottom:5,marginTop:20}},r.a.createElement("span",{className:"volum",style:{fontSize:18,marginBottom:10}},r.a.createElement(Ht.a,null)),r.a.createElement("input",{value:100*l,type:"range",name:"volBar",onChange:function(e){return a=e.target.value/100,s(a),t.current.volume=a,void localStorage.setItem("volum",a);var a},id:"volBar"})),r.a.createElement("div",{className:"musicControls"},r.a.createElement("span",{style:{fontSize:18},onClick:function(){k("prev")}},r.a.createElement(qt.a,null)),r.a.createElement("span",{style:{fontSize:18}},r.a.createElement("span",{onClick:function(){var t=document.getElementById("Aud");e.play(t)}.bind(void 0)},e.paused?r.a.createElement(ae.a,null):r.a.createElement(Wt.a,null))),r.a.createElement("span",{style:{fontSize:18},onClick:function(){k("next")}},r.a.createElement(Jt.a,null))),r.a.createElement("div",{className:"progressb"},r.a.createElement("span",{className:"currentT"},y(e.currentTime)),r.a.createElement("input",{type:"range",dots:"true",onChange:function(a){return function(a){e.duration;t.current.currentTime=a}(a.target.value)},value:e.duration?100*e.currentTime/e.duration:0,tooltipVisible:!1,style:{marginBottom:15,marginRight:25,cursor:"pointer"},class:"progressb",id:"prg"}),r.a.createElement("span",{className:"totalT"},e.duration?y(e.duration):"0:00")),r.a.createElement("span",{className:"random",style:{fontSize:18,margin:5,marginLeft:20}},r.a.createElement(Gt.a,null)),f?r.a.createElement("span",{className:"repeat",style:{fontSize:18,margin:5,color:"#1890ff",cursor:"pointer"},onClick:function(){return h(!1)}},r.a.createElement(Vt.a,null)):r.a.createElement("span",{className:"repeat",style:{fontSize:18,margin:5,cursor:"pointer"},onClick:function(){return h(!0)}},r.a.createElement(Vt.a,null)),r.a.createElement("div",{className:"songdisplay",style:{marginLeft:50,overflow:"hidden",marginTop:12,width:400}},r.a.createElement($.b.Item,{actions:[r.a.createElement(ee.a,{placement:"top",title:"Current Playlist"},r.a.createElement("a",{key:"list-loadmore-edit",style:{marginLeft:5},onClick:function(){return m(!0)}},r.a.createElement(Yt.a,{style:{fontSize:18,color:"#fff"}})))]},r.a.createElement($.b.Item.Meta,{avatar:r.a.createElement(te.a,{style:{width:40,height:40},src:localStorage.getItem("songCover")}),title:r.a.createElement(p.b,{style:{overflow:"auto",color:"#fff"},to:"/song/".concat(e.currentSong.id||localStorage.getItem("id"))},v),description:r.a.createElement("a",{style:{color:"#b2bec3",display:"block"}},localStorage.getItem("uploader"))}))))})),$t=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"player",style:{position:"fixed",bottom:0,color:"#fff",height:50,width:"100%"}},r.a.createElement(Xt,null))}}]),a}(r.a.Component),Qt=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,loading:e.song.loading,getLoad:e.song.getLoad,prog:e.song.progress,songs:e.player.songs,categories:e.song.categories,currentTrackID:e.player.currentTrackID,currentTime:e.player.currentTime,currentSong:e.player.currentSong}}),(function(e){return{upload:function(t){return e(I(t))},searchUploadings:function(t,a){return e(T(t,a))},listCategories:function(){return e(v())}}}))($t),Zt=a(567),ea=a(531),ta=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(s.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={visible:!1,placement:"left"},e.showDrawer=function(){e.setState({visible:!0})},e.onClose=function(){e.setState({visible:!1})},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this.props.currentSong.file||localStorage.getItem("file");return r.a.createElement("div",{className:"main"},r.a.createElement(ea.a,{title:"Basic Drawer",placement:"left",closable:!1,onClose:this.onClose,visible:this.state.visible,width:400,footer:r.a.createElement("div",{style:{textAlign:"left"}},r.a.createElement(K.a,{className:"btnn",style:{cursor:"pointer"},onClick:this.onClose},"Close"))},r.a.createElement(Kt,null)),r.a.createElement("div",null,this.props.children),e?r.a.createElement(Qt,null):"",e?r.a.createElement(Zt.a,{onClick:this.showDrawer,className:"btnn",style:{position:"fixed",borderRadius:50,fontSize:50,bottom:20,left:20,cursor:"pointer"}}):"")}}]),a}(n.Component),aa=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(){return Object(s.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"componentWillMount",value:function(){this.props.loginCheck()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p.a,null,r.a.createElement(ta,this.props,r.a.createElement(Bt,null))))}}]),a}(r.a.Component),na=Object(E.b)((function(e){return{isAuthenticated:null!==e.auth.token,currentSong:e.player.currentTrack}}),(function(e){return{loginCheck:function(){return e((function(e){var t=localStorage.getItem("token"),a=localStorage.getItem("email"),n=localStorage.getItem("avatar");e(F(t,a,n))}))}}}))(aa);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ra=a(89),oa=a(270),la=a(64),sa=function(e,t){return Object(la.a)(Object(la.a)({},e),t)},ia={token:null,error:null,signupErrors:null,loading:!1},ca=function(e,t){return sa(e,{signupErrors:t.error,loading:!1})},ua=function(e,t){return sa(e,{error:null,loading:!0})},ma=function(e,t){return sa(e,{token:t.token,error:null,loading:!1})},da=function(e,t){return sa(e,{error:t.error,loading:!1})},ga=function(e,t){return sa(e,{token:null})},pa=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ia,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTH_START":return ua(e);case"AUTH_SUCCESS":return ma(e,t);case"AUTH_FAIL":return da(e,t);case"AUTH_LOGOUT":return ga(e);case"SignupFailed":return ca(e,t);default:return e}},fa=function(e,t){return Object(la.a)(Object(la.a)({},e),t)},ha={songs:[],success:null,loading:!1,error:null,deleteSuccess:null,getLoad:!1,followLoading:!1,categorySongs:[],categories:[],message:null,suggestions:[],song:{},playlist:{},commentLoad:!1,commentLiked:!1,playlists:[],followlist:[],category:{},addError:null,lastReleases:[],results:{}},ya=function(e,t){return fa(e,{songs:t.songs,error:null,loading:!1,commentLoad:!1,message:t.message})},Ea=function(e,t){return fa(e,{message:t.message})},ba=function(e,t){return fa(e,{songs:t.songs,error:null,loading:!1,commentLoad:!1,commentLiked:!0,message:t.message,deleteSuccess:null})},ka=function(e,t){return fa(e,{songs:t.songs,error:null,loading:!1,commentLoad:!1,deleteSuccess:null,message:t.message})},Sa=function(e,t){return fa(e,{error:null,followLoading:!0,success:null,commentLoad:!1,message:null,deleteSuccess:null})},va=function(e,t){return fa(e,{followlist:t.users,error:null,followLoading:!1,success:null,message:null,commentLoad:!1,deleteSuccess:null})},Ca=function(e,t){return fa(e,{error:t.error,message:null,commentLoad:!1,addError:null,deleteSuccess:null,success:null,loading:!1})},wa=function(e,t){return fa(e,{error:null,followLoading:!0,success:null,commentLoad:!1,message:null,deleteSuccess:null})},La=function(e,t){return fa(e,{results:t.results,error:null,followLoading:!1,success:null,message:null,commentLoad:!1,deleteSuccess:null})},Ia=function(e,t){return fa(e,{error:t.error,message:null,commentLoad:!1,addError:null,deleteSuccess:null,success:null,loading:!1})},Pa=function(e,t){return fa(e,{error:null,followLoading:!0,success:null,commentLoad:!1,message:null,deleteSuccess:null})},Ta=function(e,t){return fa(e,{lastReleases:t.songs,error:null,followLoading:!1,success:null,message:null,commentLoad:!1,deleteSuccess:null})},xa=function(e,t){return fa(e,{error:t.error,message:null,commentLoad:!1,addError:null,deleteSuccess:null,success:null,loading:!1})},ja=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1,message:null,addError:null,deleteSuccess:null})},Oa=function(e,t){return fa(e,{categorySongs:t.songs,error:null,loading:!1,success:null,message:null,commentLoad:!1,addError:null,deleteSuccess:null})},Ra=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1,message:null,addError:null,deleteSuccess:null})},Da=function(e,t){return fa(e,{category:t.category,error:null,loading:!1,success:null,message:null,commentLoad:!1,addError:null})},Aa=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1,message:null,addError:null})},za=function(e,t){return fa(e,{playlist:t.playlist,error:null,loading:!1,success:null,message:null,addError:null,commentLoad:!1})},Na=function(e,t){return fa(e,{error:null,loading:!0,addError:null,deleteSuccess:null,success:null,commentLoad:!1,message:null})},_a=function(e,t){return fa(e,{message:t.message,error:null,addError:null,loading:!1,deleteSuccess:null,commentLoad:!1})},Ua=function(e,t){return fa(e,{addError:t.error,success:null,loading:!1,error:null,deleteSuccess:null,commentLoad:!1,message:null})},Fa=function(e,t){return fa(e,{error:null,loading:!0,addError:null,success:null,commentLoad:!1,message:null,deleteSuccess:null})},Ba=function(e,t){return fa(e,{deleteSuccess:t.message,error:null,addError:null,loading:!1,commentLoad:!1})},Ma=function(e,t){return fa(e,{addError:t.error,success:null,loading:!1,deleteSuccess:null,error:null,commentLoad:!1,message:null})},Ha=function(e,t){return fa(e,{error:null,loading:!0,addError:null,success:null,commentLoad:!1,message:null})},qa=function(e,t){return fa(e,{message:t.message,error:null,addError:null,loading:!1,commentLoad:!1})},Wa=function(e,t){var a;return fa(e,(a={error:t.error,success:null,loading:!1},Object(gt.a)(a,"error",null),Object(gt.a)(a,"commentLoad",!1),Object(gt.a)(a,"message",null),a))},Ja=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1,message:null})},Ga=function(e,t){return fa(e,{message:"Added Successfully",error:null,loading:!1,commentLoad:!1})},Va=function(e,t){return fa(e,{error:t.error,success:null,loading:!1,commentLoad:!1,message:null})},Ya=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1,message:null})},Ka=function(e,t){return fa(e,{suggestions:t.songs,error:null,loading:!1,success:null,message:null,commentLoad:!1})},Xa=function(e,t){return fa(e,{error:t.error,message:null,commentLoad:!1,success:null,loading:!1})},$a=function(e,t){return fa(e,{error:null,loading:!1,message:null,success:null,commentLoad:!0})},Qa=function(e,t){var a;return fa(e,(a={song:t.song,error:null,loading:!1,success:null},Object(gt.a)(a,"success",null),Object(gt.a)(a,"commentLoad",!1),a))},Za=function(e,t){return fa(e,{error:t.error,success:null,commentLoad:!1,loading:!1})},en=function(e,t){return fa(e,{error:null,loading:!0,message:null,commentLoad:!1,success:null})},tn=function(e,t){return fa(e,Object(gt.a)({songs:t.songs,error:null,loading:!1,success:null,commentLoad:!1},"success",null))},an=function(e,t){return fa(e,{error:t.error,success:null,commentLoad:!1,loading:!1})},nn=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1,message:null})},rn=function(e,t){return fa(e,{error:null,loading:!1,success:null,message:null,commentLoad:!1,playlists:t.playlists})},on=function(e,t){return fa(e,{error:t.error,message:null,commentLoad:!1,success:null,loading:!1})},ln=function(e,t){return fa(e,{categories:t.categories,error:null,loading:!1,success:null,commentLoad:!1})},sn=function(e,t){return fa(e,{error:t.error,success:null,loading:!1})},cn=function(e,t){return fa(e,{error:null,loading:null,success:null,commentLoad:!1})},un=function(e,t){return fa(e,{success:t.message,error:null,loading:!1,getLoad:!1,commentLoad:!1})},mn=function(e,t){return fa(e,{success:t.message,error:null,loading:!1,getLoad:!1,commentLoad:!1})},dn=function(e,t){return fa(e,{error:t.error,loading:!1,success:null,commentLoad:!1,getLoad:!1})},gn=function(e,t){return fa(e,{error:null,loading:null,success:null,commentLoad:!0})},pn=function(e,t){return fa(e,{success:t.message,error:null,loading:!1,getLoad:!1,commentLoad:!1})},fn=function(e,t){return fa(e,{error:t.error,loading:!1,success:null,commentLoad:!1,getLoad:!1})},hn=function(e,t){return fa(e,{error:null,loading:!0,success:null,commentLoad:!1})},yn=function(e,t){return fa(e,{success:t.message,error:null,loading:!1,getLoad:!1})},En=function(e,t){return fa(e,{error:t.error,loading:!1,success:null,getLoad:!1})},bn=function(e,t){return fa(e,{error:null,success:null,message:null,loading:!1,getLoad:!0})},kn=function(e,t){return fa(e,{songs:t.songs,error:null,loading:!1,success:null,message:null,getLoad:!1})},Sn=function(e,t){return fa(e,{error:t.error,loading:!1,success:null,message:null,getLoad:!1})},vn=function(e,t){return fa(e,{error:null,loading:!1,getLoad:!0,message:null})},Cn=function(e,t){return fa(e,{songs:t.songs,error:null,loading:!1,getLoad:!1,message:null})},wn=function(e,t){return fa(e,{error:t.error,loading:!1,getLoad:!1,message:null})},Ln=function(e,t){return fa(e,{error:null,loading:!1,getLoad:!0})},In=function(e,t){return fa(e,{success:t.message,error:null,loading:!1,getLoad:!1})},Pn=function(e,t){return fa(e,{error:t.error,loading:!1,getLoad:!1})},Tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"getSongsStart":return en(e);case"getSongsSuccess":return tn(e,t);case"getSongsFailed":return an(e,t);case"getSingleSongStart":return $a(e);case"getSingleSongSuccess":return Qa(e,t);case"getSingleSongFailed":return Za(e,t);case"getCategorySongsStart":return ja(e);case"getCategorySongsSuccess":return Oa(e,t);case"getCategoryStart":return Ra(e);case"getCategorySuccess":return Da(e,t);case"getSongSuggestionsStart":return Ya(e);case"getSongSuggestionsSuccess":return Ka(e,t);case"getSongSuggestionsFailed":return Xa(e,t);case"getWhotofollowStart":return Sa(e);case"getWhotofollowSuccess":return va(e,t);case"getWhotofollowFailed":return Ca(e,t);case"getPlaylistsStart":return nn(e);case"getPlaylistsSuccess":return rn(e,t);case"getPlaylistsFailed":return on(e,t);case"getLastReleasesStart":return Pa(e);case"getLastReleasesSuccess":return Ta(e,t);case"getLastReleasesFailed":return xa(e,t);case"getPlaylistStart":return Aa(e);case"getPlaylistSuccess":return za(e,t);case"addPlaylistStart":return Ja(e);case"addPlaylistSuccess":return Ga(e);case"addPlaylistFailed":return Va(e,t);case"searchAllStart":return wa(e);case"searchAllSuccess":return La(e,t);case"searchAllFailed":return Ia(e,t);case"addToPlaylistStart":return Na(e);case"addToPlaylistSuccess":return _a(e,t);case"addToPlaylistFailed":return Ua(e,t);case"removeFromPlaylistStart":return Ha(e);case"removeFromPlaylistSuccess":return qa(e,t);case"removeFromPlaylistFailed":return Wa(e,t);case"removePlaylistStart":return Fa(e);case"removePlaylistSuccess":return Ba(e,t);case"removePlaylistFailed":return Ma(e,t);case"getCategoriesSuccess":return ln(e,t);case"getCategoriesFailed":return sn(e,t);case"uploadSongsStart":return hn(e);case"uploadSongsSuccess":return yn(e,t);case"uploadSongsFailed":return En(e,t);case"addCommentStart":return cn(e);case"addCommentSuccess":return un(e,t);case"addCommentFailed":return dn(e,t);case"addReplyStart":return gn(e);case"addReplySuccess":return pn(e,t);case"addReplyFailed":return fn(e,t);case"getMyUploadsStart":return bn(e);case"getMyUploadsSuccess":return kn(e,t);case"getMyUploadsFailed":return Sn(e,t);case"searchUploadsStart":return vn(e);case"searchUploadsSuccess":return Cn(e,t);case"searchUploadsFailed":return wn(e,t);case"deleteUploadsStart":return Ln(e);case"deleteUploadsSuccess":return In(e,t);case"deleteUploadsFailed":return Pn(e,t);case"deleteCommentsSuccess":return mn(e,t);case"likeToggle":return ya(e,t);case"commentLikeSuccess":return ba(e,t);case"commentDislikeSuccess":return ka(e,t);case"afterLike":return Ea(e,t);default:return e}},xn=function(e,t){return Object(la.a)(Object(la.a)({},e),t)},jn={songs:[],duration:0,currentSong:null,paused:!0,currentTrack:{},currentTrackID:1,history:{},currentTime:0},On=function(e,t){return xn(e,{songs:t.songs,paused:!0})},Rn=function(e,t){return xn(e,{songs:t.playlist,paused:!0})},Dn=function(e,t){return xn(e,{duration:t.duration})},An=function(e,t){return xn(e,{paused:t.result,duration:t.duration})},zn=function(e,t){return xn(e,{currentTime:t.currentTime})},Nn=function(e,t){return xn(e,{currentTrack:t.song,paused:!1})},_n=function(e,t){return xn(e,{history:t.history})},Un=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CURRENT_SONG":return On(e,t);case"togglePlaying":return An(e,t);case"setCurrentTime":return zn(e,t);case"setTracks":return Nn(e,t);case"setPlaylist":return Rn(e,t);case"getListeningHistorySuccess":return _n(e,t);case"setPlaylist":return Rn(e,t);case"getDuration":return Dn(e,t);case"getCurrentTime":return zn(e,t);default:return e}},Fn=function(e,t){return Object(la.a)(Object(la.a)({},e),t)},Bn={user:{},success:null,loading:!1,error:null,playlists:[],uploads:[],profile:{}},Mn=function(e,t){return Fn(e,{loading:!0,error:null})},Hn=function(e,t){return Fn(e,{loading:!1,error:null,user:t.user})},qn=function(e,t){return Fn(e,Object(gt.a)({loading:!1,error:null},"error",t.error))},Wn=function(e,t){return Fn(e,{loading:!0,error:null})},Jn=function(e,t){return Fn(e,{loading:!1,error:null,playlists:t.playlists})},Gn=function(e,t){return Fn(e,Object(gt.a)({loading:!1,error:null},"error",t.error))},Vn=function(e,t){return Fn(e,{loading:!0,error:null,success:null})},Yn=function(e,t){return Fn(e,{loading:!1,error:null,profile:t.user,success:null})},Kn=function(e,t){var a;return Fn(e,(a={loading:!1,error:null},Object(gt.a)(a,"error",t.error),Object(gt.a)(a,"success",null),a))},Xn=function(e,t){return Fn(e,{loading:!0,error:null})},$n=function(e,t){return Fn(e,{loading:!1,error:null,success:t.message})},Qn=function(e,t){return Fn(e,Object(gt.a)({loading:!1,error:null},"error",t.error))},Zn=function(e,t){return Fn(e,{loading:!0,error:null})},er=function(e,t){return Fn(e,{loading:!1,error:null,uploads:t.uploads})},tr=function(e,t){return Fn(e,Object(gt.a)({loading:!1,error:null},"error",t.error))},ar=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Bn,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"getSingleUserStart":return Mn(e);case"getSingleUserSuccess":return Hn(e,t);case"getSingleUserFailed":return qn(e,t);case"getUserPlaylistsStart":return Wn(e);case"getUserPlaylistsSuccess":return Jn(e,t);case"getUserPlaylistsFailed":return Gn(e,t);case"getUserProfileStart":return Vn(e);case"getUserProfileSuccess":return Yn(e,t);case"getUserProfileFailed":return Kn(e,t);case"updateUserProfileStart":return Xn(e);case"updateUserProfileSuccess":return $n(e,t);case"updateUserProfileFailed":return Qn(e,t);case"getUserUploadsStart":return Zn(e);case"getUserUploadsSuccess":return er(e,t);case"getUserUploadsFailed":return tr(e,t);default:return e}},nr=Object(ra.c)({auth:pa,song:Tn,player:Un,user:ar}),rr=(a(508),a(509),a(510),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ra.d),or=Object(ra.e)(nr,rr(Object(ra.a)(oa.a)));l.a.render(r.a.createElement(E.a,{store:or},r.a.createElement(na,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},96:function(e,t,a){e.exports=a.p+"static/media/music.9bf22144.jpg"}},[[289,1,2]]]);
//# sourceMappingURL=main.1a0d1a81.chunk.js.map